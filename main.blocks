<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="o$YLlt@/8y]8%Jt}7D@L">snakeHead</variable><variable id="uf~Dr4DX~=HbZwd*i@b2">snakeTail</variable><variable id="t*?X?TS5|4tc-UyQ}Yx?">s</variable><variable id="H-}X`aje~Pn=iS)goIHk">mushroom</variable><variable id="tdiW{Ru~%7SctuuK+UHG">valid</variable><variable id="|/v{-W6B2qoJPn%XkFDl">x</variable><variable id="G53iJu]XU5k0-Uf4c_=V">y</variable><variable id="]*X3h:v5C-tbSnf7XQAa">part</variable><variable id="xBlH!za4zJk*jKgwn6wV">nx</variable><variable id="W6WGkn($(U~{`RQCJ^t]">ny</variable><variable id="iX;+xqdK^uRs*l(OztmC">last</variable><variable id="PR$wR^v7wuLgr[[%8D(g">gameScore</variable><variable id="W0u5{3uHf*oR$89h=~s4">oldSpeed</variable><variable id="nTU`w0?7uuv#,EmqUwAA">snakeSpeed</variable><variable id="E/}~IDI!)ru2rB^_#e!v">MIN_SPEED</variable><variable id="VqK*fQd`j$[?qju,NnFV">SPEED_STEP</variable><variable id="pUpq5Znc4DB@n5)U9Y}-">nx2</variable><variable id="a1Mj=#k@H2.)JfyXk;b`">ny2</variable><variable id="bg17v_dUyLvAYpUy6.fT">px</variable><variable id="fqV5ck$/FhS#I|Ae14TH">py</variable><variable id="BiXidp4-X6W9%3W{z!9a">seg</variable><variable id="!lPEuyTsph-/kL2-vF;8">snakeCrash</variable><variable id=",-ya$pkvdvHU*AL`.FIE">gameRunning</variable><variable id="@t95B7Z@H-P|-Q%F#DG{">directionDeg</variable><variable id="TyF9Z{7~#hfFDR4;f8#X">INITIAL_SPEED</variable><variable id="Ip/B/+qnb)6spdI]oOYI">seedVal</variable></variables><block type="pxt-on-start" id="Zvm.C$)1$!t,F?=Yq}L~" x="20" y="20"><statement name="HANDLER"><block type="typescript_statement" id="Kq8RB]J~fNI|FB[R@W(2"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let mushroom: game.LedSprite = null" numlines="1" declaredvars="mushroom"></mutation><next><block type="typescript_statement" id=";V4!s9P{fi6L@BQ%Pf/-"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let snakeTail: game.LedSprite[] = []" numlines="1" declaredvars="snakeTail"></mutation><next><block type="typescript_statement" id="j)-|@Q5dAcsf_v.x]vLD"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let snakeHead: game.LedSprite = null" numlines="1" declaredvars="snakeHead"></mutation><comment pinned="false" h="80" w="160">--- Game state ---</comment><next><block type="typescript_statement" id="Mnvym/tNPYDFNFq}dN]="><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let ny = 0" numlines="1" declaredvars="ny"></mutation><next><block type="typescript_statement" id="!),A=~|)1UvL!oq/+(0?"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let nx = 0" numlines="1" declaredvars="nx"></mutation><next><block type="variables_set" id="Am(%-_R*t2=6!xZYnT.)"><field name="VAR" id="TyF9Z{7~#hfFDR4;f8#X">INITIAL_SPEED</field><comment pinned="false" h="80" w="160">--- Constants ---</comment><data>0</data><value name="VALUE"><shadow type="math_number" id="v7uKC_c585{0@7RJEt)@"><field name="NUM">900</field></shadow></value><next><block type="variables_set" id="Fz6da#E`n#[{;Ah%%U?q"><field name="VAR" id="VqK*fQd`j$[?qju,NnFV">SPEED_STEP</field><value name="VALUE"><shadow type="math_number" id="tntZ)DUVT$K!q+C+aBr?"><field name="NUM">75</field></shadow></value><next><block type="variables_set" id="L.ww},!*ezZcXNww3e9E"><field name="VAR" id="E/}~IDI!)ru2rB^_#e!v">MIN_SPEED</field><value name="VALUE"><shadow type="math_number" id="6w@I,i@;9~|f(rNmSbE*"><field name="NUM">150</field></shadow></value><next><block type="variables_set" id="=_YpWBb:W{Gw,+|8z%W="><field name="VAR" id="nTU`w0?7uuv#,EmqUwAA">snakeSpeed</field><value name="VALUE"><shadow type="math_number" id="2q3[iSXfC.0Mq7_V-M(5"><field name="NUM">0</field></shadow><block type="variables_get" id="Sbpr.$u*P=h%vhy+pyDu"><field name="VAR" id="TyF9Z{7~#hfFDR4;f8#X">INITIAL_SPEED</field></block></value><next><block type="variables_set" id="gC;f#6kY6w{Y_c@`YGTM"><field name="VAR" id="@t95B7Z@H-P|-Q%F#DG{">directionDeg</field><comment pinned="false" h="80" w="160">0=up, 90=right, 180=down, 270=left</comment><value name="VALUE"><shadow type="math_number" id="}x,K}J@}D.tC(wk/OrAK"><field name="NUM">90</field></shadow></value><next><block type="variables_set" id="j}Tdx3)D(rRyoH:K7s*;"><field name="VAR" id="Ip/B/+qnb)6spdI]oOYI">seedVal</field><comment pinned="false" h="80" w="160">--- Initialize randomness ---</comment><value name="VALUE"><shadow type="math_number" id="5;^lUP3=ocN{}zTK.e,D"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="Pk%=3j09qh@g/d}-3:l@"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="7UY/K[wh@]2ASU9L!pd0"><field name="NUM">0</field></shadow><block type="device_get_running_time" id="L*_{,bzuVu0,pT5q@YRy"></block></value><value name="B"><shadow type="math_number" id="`YYv#peLR3MI;!xR)BLv"><field name="NUM">0</field></shadow><block type="control_device_serial_number" id="RUpW0wh^hGm~_,DP*ja9"></block></value></block></value><next><block type="typescript_statement" id="|GqJfhwQ4Lqu0[BQ]u!F"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="Math.random()" numlines="1"></mutation><comment pinned="false" h="80" w="160">warm-up</comment><next><block type="function_call" id="](Dy3NEPGeop`Z%u1BTo"><mutation name="startGame" functionid="Ygy24fK3$WBtxfS!o@=l"></mutation><comment pinned="false" h="80" w="160">--- Auto-start on power up ---</comment></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="device_button_event" id="Sc5i+*=8TutCO)3XT@$O" x="659" y="20"><field name="NAME">Button.A</field><comment pinned="false" h="80" w="160">--- Controls ---</comment><statement name="HANDLER"><block type="controls_if" id="$0Z6ofn;;7$d$66;?2Ui"><value name="IF0"><shadow type="logic_boolean" id="fm+gWML[5(o+gWiIl^,p"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="TpglBqe`HG+1cZ*#$gRk"><field name="VAR" id=",-ya$pkvdvHU*AL`.FIE">gameRunning</field></block></value><statement name="DO0"><block type="variables_set" id="[/CVfGMXOspdGatQ%u4C"><field name="VAR" id="@t95B7Z@H-P|-Q%F#DG{">directionDeg</field><value name="VALUE"><shadow type="math_number" id="!`lV6q550o~`(s@L[FxN"><field name="NUM">0</field></shadow><block type="math_modulo" id="ND2nu;D#KhgVsT9OC=x6"><value name="DIVIDEND"><shadow type="math_number" id="1SQdf4~1bK}uE2e?7Mhw"><field name="NUM">0</field></shadow><block type="math_arithmetic" id=".kzyk)=[JD}a1hE2ZZfQ"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="{+?MIIV?yR(fa)nr%Pmq"><field name="NUM">0</field></shadow><block type="variables_get" id="8^US]kQ|{^f8J%!H2?]p"><field name="VAR" id="@t95B7Z@H-P|-Q%F#DG{">directionDeg</field></block></value><value name="B"><shadow type="math_number" id=":*?OA4Lr9IZAUa*NZ/@g"><field name="NUM">270</field></shadow></value></block></value><value name="DIVISOR"><shadow type="math_number" id="Lh1DbDM`=N6]fzm.(]r,"><field name="NUM">360</field></shadow></value></block></value></block></statement></block></statement></block><block type="device_button_event" id="QBD~yj{JC]vJ3giAn`MN" x="1427" y="20"><field name="NAME">Button.B</field><statement name="HANDLER"><block type="controls_if" id="O~9%LlrN^Je$3q5,@a!q"><value name="IF0"><shadow type="logic_boolean" id="V]5sL#-4G.daU[4*I_Fm"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id=".LbZ3GCCCPG09ZV#N1HN"><field name="VAR" id=",-ya$pkvdvHU*AL`.FIE">gameRunning</field></block></value><statement name="DO0"><block type="variables_set" id=";V5WTL^-i*mYCwcXKv;U"><field name="VAR" id="@t95B7Z@H-P|-Q%F#DG{">directionDeg</field><value name="VALUE"><shadow type="math_number" id="2}_iv;Z-{Uu}_ErF4~RQ"><field name="NUM">0</field></shadow><block type="math_modulo" id="i2EI)Edk7IU|VFC2b)gu"><value name="DIVIDEND"><shadow type="math_number" id="DTCU$r}`1tRrmR)gH^g~"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="!;/L/A@Agx;n*QM%7=Z`"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="JNkZ3JAp@?ySRZ@4s?Yw"><field name="NUM">0</field></shadow><block type="variables_get" id="3{D%YMeq)R^cxiq:xqGM"><field name="VAR" id="@t95B7Z@H-P|-Q%F#DG{">directionDeg</field></block></value><value name="B"><shadow type="math_number" id="8$(H9f/*j{X18Ff?5%lL"><field name="NUM">90</field></shadow></value></block></value><value name="DIVISOR"><shadow type="math_number" id="(!%5))H@!#|,AHT9_(7K"><field name="NUM">360</field></shadow></value></block></value></block></statement></block></statement></block><block type="device_button_event" id="nILgbop^DAzmbxs2!!O^" x="2185" y="20"><field name="NAME">Button.AB</field><statement name="HANDLER"><block type="controls_if" id=";]ta|k)@Gb.eS}QhSyEI"><value name="IF0"><shadow type="logic_boolean" id="){Dqe)jXtPZ*j%kr2r{d"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="*-o+-xW/2~%rG$npwS58"><value name="BOOL"><shadow type="logic_boolean" id="~*RFqF{hb`[{Y8HcbFTo"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id=".N2^7Q^*7ufg%k3jI)2B"><field name="VAR" id=",-ya$pkvdvHU*AL`.FIE">gameRunning</field></block></value></block></value><statement name="DO0"><block type="function_call" id="fq}L8inLHSgxq8Q=9S*6"><mutation name="startGame" functionid="Ygy24fK3$WBtxfS!o@=l"></mutation></block></statement></block></statement></block><block type="device_forever" id="ElHspygi{C;GD~dD*;2h" x="2585" y="20"><comment pinned="false" h="80" w="160">--- Main loop ---</comment><statement name="HANDLER"><block type="controls_if" id="6H_xx=lG{Ec=nA-rZMp^"><mutation else="1"></mutation><value name="IF0"><shadow type="logic_boolean" id="Kou`T~snPs7wSY.]*`RJ"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="#)29lpk%b3in$Y3][-`R"><field name="VAR" id=",-ya$pkvdvHU*AL`.FIE">gameRunning</field></block></value><statement name="DO0"><block type="function_call" id="ytVBCj}z(wlNp7MzlKeJ"><mutation name="moveSnake" functionid="FwsOo4=Yh-6TlvrtJnC+"></mutation><next><block type="device_pause" id="1W1=7o%$ok[p$o|~y^pR"><value name="pause"><shadow type="timePicker" id="4Xs!PoWh}=IsvkYS%`^/"><field name="ms">500</field></shadow><block type="variables_get" id="W!~sEWmc5^x3pIZUUYnU"><field name="VAR" id="nTU`w0?7uuv#,EmqUwAA">snakeSpeed</field></block></value></block></next></block></statement><statement name="ELSE"><block type="device_pause" id="iubNhof*UNEK{i@M0O@)"><value name="pause"><shadow type="timePicker" id="JU#D`1e[DF^A5HBk$Y!4"><field name="ms">100</field></shadow></value></block></statement></block></statement></block><block type="function_definition" id="OD)]N^gMTFV|[.N2oYJW" x="2933" y="20"><mutation name="clearAllSprites" functionid="OTATJ5gVWh7Pi6L~IR:E"></mutation><field name="function_name">clearAllSprites</field><comment pinned="false" h="80" w="160">0=up, 90=right, 180=down, 270=left
--- Utility functions ---</comment><statement name="STACK"><block type="controls_if" id="e4BIs*AGh;?3|Zx6EPkV"><value name="IF0"><shadow type="logic_boolean" id="~U~Vk{sZ+G}P8#+|De^("><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="vbpP(!OupUR5xq63Uz,^"><field name="VAR" id="o$YLlt@/8y]8%Jt}7D@L">snakeHead</field></block></value><statement name="DO0"><block type="game_delete_sprite" id="?;zQnVKan.O-I0(75RYB"><value name="this"><block type="variables_get" id="?n}[gR)iHHl3,dYxE1[p"><field name="VAR" id="o$YLlt@/8y]8%Jt}7D@L">snakeHead</field></block></value></block></statement><next><block type="pxt_controls_for_of" id="`?18~WlJnmq/E`.94}Y["><value name="VAR"><block type="variables_get_reporter" id="agg+V`H/45|-ZI8e6~cc" deletable="false"><field name="VAR" id="t*?X?TS5|4tc-UyQ}Yx?">s</field></block></value><value name="LIST"><block type="variables_get" id="+16V%?cA[4~]|k)_LtpQ"><field name="VAR" id="uf~Dr4DX~=HbZwd*i@b2">snakeTail</field></block></value><statement name="DO"><block type="game_delete_sprite" id="Hgf`eBgJFGEC%y}NTY%s"><value name="this"><block type="variables_get" id="m$@k9kZM,D9t)aC`q:@V"><field name="VAR" id="t*?X?TS5|4tc-UyQ}Yx?">s</field></block></value></block></statement><next><block type="controls_if" id="eze0t@_N$y{^G:S07UYR"><value name="IF0"><shadow type="logic_boolean" id="Ybd2Nh9BcKLIkFy;bg]y"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="oBgw$sSG-vNn2CwKGM.r"><field name="VAR" id="H-}X`aje~Pn=iS)goIHk">mushroom</field></block></value><statement name="DO0"><block type="game_delete_sprite" id="+#(CJkn*~JaQn#wLs/t5"><value name="this"><block type="variables_get" id="L{8qnqS?)^kqBzM73D%M"><field name="VAR" id="H-}X`aje~Pn=iS)goIHk">mushroom</field></block></value></block></statement><next><block type="typescript_statement" id="Mw`Wlyvay.m)ao]u9FwO"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="snakeHead = null" numlines="1"></mutation><next><block type="variables_set" id="XK{-g%bkW?+YD9D6sosf"><field name="VAR" id="uf~Dr4DX~=HbZwd*i@b2">snakeTail</field><value name="VALUE"><shadow type="math_number" id="W3M$xPp2yqwSAG`HBX79"><field name="NUM">0</field></shadow><block type="lists_create_with" id="tHIXPeWw)J@!iPGgc?WR"><mutation items="0" horizontalafter="3"></mutation></block></value><next><block type="typescript_statement" id="K-*`9rc.qA.)}:+lx.Is"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="mushroom = null" numlines="1"></mutation></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="3N*EbZ_q?Q@WxxfBLFYV" x="3381" y="20"><mutation name="growTailByOne" functionid="uFKUzGDWEeVM@b[)G^VQ"></mutation><field name="function_name">growTailByOne</field><comment pinned="false" h="80" w="160">Extend snake by one segment</comment><statement name="STACK"><block type="controls_if" id="5L_3~AUNJPeX9_O3GQ0`"><mutation else="1"></mutation><value name="IF0"><shadow type="logic_boolean" id="X5G8r=E7S.jJ929[y|kX"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="A5Bg^W~lP!xopjBIY7nC"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="{+|DuD$mAc{O![a3niyN"><field name="NUM">0</field></shadow><block type="lists_length" id="eVAMxciCCw}$ClW!a_.f"><value name="VALUE"><block type="variables_get" id="mL:6QP8PDkJ*LdoSzmx!"><field name="VAR" id="uf~Dr4DX~=HbZwd*i@b2">snakeTail</field></block></value></block></value><value name="B"><shadow type="math_number" id="}%i1}LESjwrCf@6~t9:]"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="variables_set" id="Z:5EM,SJKU.i/c;Kv/1h"><field name="VAR" id="xBlH!za4zJk*jKgwn6wV">nx</field><value name="VALUE"><shadow type="math_number" id="FLH`F`1j%3?hz?vGPQyS"><field name="NUM">0</field></shadow><block type="game_sprite_property" id="$!yma4O$rQ@WUrm-yln("><field name="property">LedSpriteProperty.X</field><value name="sprite"><block type="variables_get" id="C7ICkugR9ev9,OTR?g/j"><field name="VAR" id="o$YLlt@/8y]8%Jt}7D@L">snakeHead</field></block></value></block></value><next><block type="variables_set" id="Qh`2si]|yLa+P$3|ZA$k"><field name="VAR" id="W6WGkn($(U~{`RQCJ^t]">ny</field><value name="VALUE"><shadow type="math_number" id="ZR*bb`v~t/azSlEIe3Dk"><field name="NUM">0</field></shadow><block type="game_sprite_property" id="t3?nX[g8P@Y)Zpojk?{="><field name="property">LedSpriteProperty.Y</field><value name="sprite"><block type="variables_get" id="A1Ff(512Opr=ovvyq7ud"><field name="VAR" id="o$YLlt@/8y]8%Jt}7D@L">snakeHead</field></block></value></block></value></block></next></block></statement><statement name="ELSE"><block type="variables_set" id="0VQ-YyaeX.!.u:}ZzD?{"><field name="VAR" id="iX;+xqdK^uRs*l(OztmC">last</field><value name="VALUE"><shadow type="math_number" id="hRbw7lvR8#FYe({_ah[t"><field name="NUM">0</field></shadow><block type="lists_index_get" id="qDWs%3?e-f/()xO{4m*R"><value name="LIST"><block type="variables_get" id="!{-zqEVwy`l^;*iuT3e="><field name="VAR" id="uf~Dr4DX~=HbZwd*i@b2">snakeTail</field></block></value><value name="INDEX"><shadow type="math_number" id="NEl;dCKAQx-bbp.u$I=M"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="MU0A[5$+CC3Z`865(-4."><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="/g;cE_py$Zi2!c:S)x)c"><field name="NUM">0</field></shadow><block type="lists_length" id="4Uw4Uvu@*Tx.|.o6}h56"><value name="VALUE"><block type="variables_get" id="rMe+z;#Ty`%e?RAWO(-o"><field name="VAR" id="uf~Dr4DX~=HbZwd*i@b2">snakeTail</field></block></value></block></value><value name="B"><shadow type="math_number" id="pmC?uWSggtgMZZ$Aby~r"><field name="NUM">1</field></shadow></value></block></value></block></value><next><block type="variables_set" id="Hcj13F!T5/FR:s:~om+4"><field name="VAR" id="xBlH!za4zJk*jKgwn6wV">nx</field><value name="VALUE"><shadow type="math_number" id="zPE$D6VV*E[AbMg{UOX2"><field name="NUM">0</field></shadow><block type="game_sprite_property" id="AYd0UNG^$!APN5)Cud_9"><field name="property">LedSpriteProperty.X</field><value name="sprite"><block type="variables_get" id="VBi+~#~-|+IRx0@}+3XQ"><field name="VAR" id="iX;+xqdK^uRs*l(OztmC">last</field></block></value></block></value><next><block type="variables_set" id="x@VVYl?M/w%9zD)9)NL`"><field name="VAR" id="W6WGkn($(U~{`RQCJ^t]">ny</field><value name="VALUE"><shadow type="math_number" id="_%ypg(8cVn;1+F%)%jgy"><field name="NUM">0</field></shadow><block type="game_sprite_property" id="6BhK#3+eaBs0lYk/R}AP"><field name="property">LedSpriteProperty.Y</field><value name="sprite"><block type="variables_get" id=":Nw5VF@ZYuJ4?wAF?n#Y"><field name="VAR" id="iX;+xqdK^uRs*l(OztmC">last</field></block></value></block></value></block></next></block></next></block></statement><next><block type="array_push" id="@xrr.q{DKU4/r;Qq|OP~"><value name="list"><block type="variables_get" id="Iy_a@*iO!A8T.^Eq_LrY"><field name="VAR" id="uf~Dr4DX~=HbZwd*i@b2">snakeTail</field></block></value><value name="value"><block type="game_create_sprite" id="t6FT3l8=mD9q/iZ:b4Y."><value name="x"><block type="variables_get" id="hnaDi;x,4wBBV1.L.VX;"><field name="VAR" id="xBlH!za4zJk*jKgwn6wV">nx</field></block></value><value name="y"><block type="variables_get" id="wx%?_x=72N{fk6rH,d;x"><field name="VAR" id="W6WGkn($(U~{`RQCJ^t]">ny</field></block></value></block></value></block></next></block></statement></block><block type="function_definition" id="H^S1d6dS3HMasllzcLnA" x="4280" y="20"><mutation name="computeNextPosition" functionid="_CqDhih5$O*=[`EtWG:k"><arg name="x" id="sixl2gv7xicghh66dw13e" type="number"></arg><arg name="y" id="j5bt4x919ahqmphh1gtc" type="number"></arg><arg name="dir" id="smu5wer0hg4xo8e6x417" type="number"></arg></mutation><field name="function_name">computeNextPosition</field><comment pinned="false" h="80" w="160">Calculate next position (with wrap-around)</comment><value name="sixl2gv7xicghh66dw13e"><block type="argument_reporter_number" id="}Nln#FlB:7LqV9HjvUtB" deletable="false"><field name="VALUE">x</field></block></value><value name="j5bt4x919ahqmphh1gtc"><block type="argument_reporter_number" id="|B?xB?kg2J);67=dw/n:" deletable="false"><field name="VALUE">y</field></block></value><value name="smu5wer0hg4xo8e6x417"><block type="argument_reporter_number" id="y$l^|+eEdi`~Q7!RwR1z" deletable="false"><field name="VALUE">dir</field></block></value><statement name="STACK"><block type="variables_set" id="!~T9S[lp*:[h8iy-))Zm"><field name="VAR" id="pUpq5Znc4DB@n5)U9Y}-">nx2</field><value name="VALUE"><shadow type="math_number" id="3Nl_WSgsw}*EZi4$6Ly@"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="5GV{#Eq*B{0rF5|u2(:4"><field name="VALUE">x</field></block></value><next><block type="variables_set" id="Qms4!IpFuC|)S~NL|,62"><field name="VAR" id="a1Mj=#k@H2.)JfyXk;b`">ny2</field><value name="VALUE"><shadow type="math_number" id="h#o/Ya?zgTe5:k!wLB:e"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="}2P`($|;3S}4:X}[-GxQ"><field name="VALUE">y</field></block></value><next><block type="controls_if" id="t3kW[o|kvgu3%RpI{Ai}"><mutation elseif="3"></mutation><value name="IF0"><shadow type="logic_boolean" id="]#Jycd.|!P.dVd^b20T@"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="^$aQk;TKi:azAiuRO^R("><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="g-kjMKvH-0;NdxsZqN7r"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="_G%q*@t*v)Yq!Vd6}BXO"><field name="VALUE">dir</field></block></value><value name="B"><shadow type="math_number" id="RMYV3Jw|A1Kwe0mm-/VT"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="variables_change" id="%*Ki8w$o7Q{6i||n7|iP"><field name="VAR" id="a1Mj=#k@H2.)JfyXk;b`">ny2</field><value name="VALUE"><shadow type="math_number" id="o}~^@aNWP0R[+s)4=I@o"><field name="NUM">-1</field></shadow></value></block></statement><value name="IF1"><shadow type="logic_boolean" id="Qe[j~U)qZO/MEj+saEOl"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="h]PXGIe/i-uH}?SW5o@;"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="L@SrP,TBSa}7z]h#OC|C"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="sD{OM.n!85J*{_%w7yc`"><field name="VALUE">dir</field></block></value><value name="B"><shadow type="math_number" id="%k}u5Yb(H$$RAFlPS%=l"><field name="NUM">90</field></shadow></value></block></value><statement name="DO1"><block type="variables_change" id="/`81XkGST2(O*@s]!)wX"><field name="VAR" id="pUpq5Znc4DB@n5)U9Y}-">nx2</field><value name="VALUE"><shadow type="math_number" id="1eqC,8qMDJq7i`e?F)q["><field name="NUM">1</field></shadow></value></block></statement><value name="IF2"><shadow type="logic_boolean" id="PJ3c$FX@aQz*=dreKubM"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="Vu3C!!Z^-_**Z-WdkXk?"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="Y7+!Y.C!]4?7ljS$Qb_M"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="oTOLRm!TSSTAQ%(:(#BT"><field name="VALUE">dir</field></block></value><value name="B"><shadow type="math_number" id="N@+kF+U~L-J)zuDeH,!l"><field name="NUM">180</field></shadow></value></block></value><statement name="DO2"><block type="variables_change" id="`;MXz1qTCj?TQ3$z4%jv"><field name="VAR" id="a1Mj=#k@H2.)JfyXk;b`">ny2</field><value name="VALUE"><shadow type="math_number" id="Zz]Y641%tx`h%u|s^O2$"><field name="NUM">1</field></shadow></value></block></statement><value name="IF3"><shadow type="logic_boolean" id="tNV%5(.AxX7uBn~zO4in"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="]Cs_1MfY/fXkevSj4bz?"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="0m-1g{WQ~alGp6YQk/eI"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="jqONekYFUoz)YUMQK[._"><field name="VALUE">dir</field></block></value><value name="B"><shadow type="math_number" id="T(DvA01gdq9ve!tmF;*c"><field name="NUM">270</field></shadow></value></block></value><statement name="DO3"><block type="variables_change" id="i~BI/R94MFH$)B1yKw}H"><field name="VAR" id="pUpq5Znc4DB@n5)U9Y}-">nx2</field><value name="VALUE"><shadow type="math_number" id="iHmPugTMQT?5?slzCgy%"><field name="NUM">-1</field></shadow></value></block></statement><next><block type="controls_if" id="0[JnZ{d9Q$Z[UjlgN=TU"><value name="IF0"><shadow type="logic_boolean" id="w*4Oyb*7|U[d@H!,Sx5$"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="KB^IQ49%the0dc$Y.9$m"><field name="OP">LT</field><value name="A"><shadow type="math_number" id="NAFsYoF2VTiURmlA5ZmL"><field name="NUM">0</field></shadow><block type="variables_get" id="fTQbX]k/u#8KW7c%dp/0"><field name="VAR" id="pUpq5Znc4DB@n5)U9Y}-">nx2</field></block></value><value name="B"><shadow type="math_number" id="e29~9ZpdV4JTGl6z{F:H"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="variables_set" id="{W2v$@$V2.VHLW0l]`O_"><field name="VAR" id="pUpq5Znc4DB@n5)U9Y}-">nx2</field><value name="VALUE"><shadow type="math_number" id="LA-a3i_(/HQ.URA}:T~w"><field name="NUM">4</field></shadow></value></block></statement><next><block type="controls_if" id="2_T3iUCe?w2mdnLT+qI="><value name="IF0"><shadow type="logic_boolean" id="a.4~(yMaHy|dubpK5Mam"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="E2eI)B}m0tU):(UEaILl"><field name="OP">GT</field><value name="A"><shadow type="math_number" id="BbM*c_Q/P[M1g$quG/l+"><field name="NUM">0</field></shadow><block type="variables_get" id="eNIRuH4ko$eO93f4D1Ml"><field name="VAR" id="pUpq5Znc4DB@n5)U9Y}-">nx2</field></block></value><value name="B"><shadow type="math_number" id="95eeH57~kN)!5*-OfP-F"><field name="NUM">4</field></shadow></value></block></value><statement name="DO0"><block type="variables_set" id="g}l%O:=u_v@6i?:K:Ip("><field name="VAR" id="pUpq5Znc4DB@n5)U9Y}-">nx2</field><value name="VALUE"><shadow type="math_number" id="6IsRH^$TmQ-DOuj!qcVo"><field name="NUM">0</field></shadow></value></block></statement><next><block type="controls_if" id="K2UWOqEoFy4j{Q9zi=4d"><value name="IF0"><shadow type="logic_boolean" id="]IpwL([GMh|c},bU9nE="><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="(Aqe`jc9B^]S,;-xf~nK"><field name="OP">LT</field><value name="A"><shadow type="math_number" id="^MGm!}V)-J$K@3Al*|as"><field name="NUM">0</field></shadow><block type="variables_get" id="G.H.R|RTtKdS0U4:@S}-"><field name="VAR" id="a1Mj=#k@H2.)JfyXk;b`">ny2</field></block></value><value name="B"><shadow type="math_number" id="fHdK04i{*b#A$}w0Y/hW"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="variables_set" id="OgE.yLJRvhZdW#4T?u%}"><field name="VAR" id="a1Mj=#k@H2.)JfyXk;b`">ny2</field><value name="VALUE"><shadow type="math_number" id="ED`)%k{3Zsifd^+]DaW%"><field name="NUM">4</field></shadow></value></block></statement><next><block type="controls_if" id="BEnYTk/$yi9T`8#kr@|)"><value name="IF0"><shadow type="logic_boolean" id="kw}I?mjbjYKyyXjk(Asl"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="O11lt^y|$8QA+)$bqU7L"><field name="OP">GT</field><value name="A"><shadow type="math_number" id="csr}7.2P)dB@^hT(F01w"><field name="NUM">0</field></shadow><block type="variables_get" id="]8l/o_pJyJBXi6jChC[v"><field name="VAR" id="a1Mj=#k@H2.)JfyXk;b`">ny2</field></block></value><value name="B"><shadow type="math_number" id="zfmQ]XWs.~^w|`KxhAh6"><field name="NUM">4</field></shadow></value></block></value><statement name="DO0"><block type="variables_set" id="*uyLHZO4wg;KnOUh)SSv"><field name="VAR" id="a1Mj=#k@H2.)JfyXk;b`">ny2</field><value name="VALUE"><shadow type="math_number" id=",BLZ!dxB(2P6mOTOb|ki"><field name="NUM">0</field></shadow></value></block></statement><next><block type="function_return" id="N*:Pvc|Ur=NT-w2TswNO"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number" id="FucK0Y;8$@[(t^^%SbwS"><field name="NUM">0</field></shadow><block type="lists_create_with" id="V)Yo%t(M+UsRME+MxvVR"><mutation items="2" horizontalafter="3"></mutation><value name="ADD0"><block type="variables_get" id="*n2b$[Hgu@g_AHP#gpQP"><field name="VAR" id="pUpq5Znc4DB@n5)U9Y}-">nx2</field></block></value><value name="ADD1"><block type="variables_get" id="IcE11gI/PLueukCwv*Zj"><field name="VAR" id="a1Mj=#k@H2.)JfyXk;b`">ny2</field></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="nq5`WL:K/93rfPx0YT?f" x="20" y="1322"><mutation name="startGame" functionid="Ygy24fK3$WBtxfS!o@=l"></mutation><field name="function_name">startGame</field><comment pinned="false" h="80" w="160">--- Start the game ---</comment><statement name="STACK"><block type="function_call" id="Mm1e1;I6]Lo`*k$^3g*p"><mutation name="clearAllSprites" functionid="OTATJ5gVWh7Pi6L~IR:E"></mutation><next><block type="variables_set" id=",_lfyq~e3[7Oi;hJnn3Q"><field name="VAR" id="nTU`w0?7uuv#,EmqUwAA">snakeSpeed</field><value name="VALUE"><shadow type="math_number" id="8N$xx4x1VIL-euXt`RvN"><field name="NUM">0</field></shadow><block type="variables_get" id="G+ZHl(^1(x=qH-})+E-r"><field name="VAR" id="TyF9Z{7~#hfFDR4;f8#X">INITIAL_SPEED</field></block></value><next><block type="variables_set" id="#N3/|:nH^eRu^:9tWD)9"><field name="VAR" id="PR$wR^v7wuLgr[[%8D(g">gameScore</field><value name="VALUE"><shadow type="math_number" id="2?K_X#G9m_RKYThuB5w1"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="fbq7.I{27g/sQ*uakaO8"><field name="VAR" id="!lPEuyTsph-/kL2-vF;8">snakeCrash</field><value name="VALUE"><shadow type="math_number" id="GA.Y7O__HY-I#o%E*wf2"><field name="NUM">0</field></shadow><block type="logic_boolean" id="avmkC-Ai3S^o-h9e425P"><field name="BOOL">FALSE</field></block></value><next><block type="variables_set" id="!*RaTj1W7GNDNx=b:5MZ"><field name="VAR" id=",-ya$pkvdvHU*AL`.FIE">gameRunning</field><value name="VALUE"><shadow type="math_number" id="O,t(XCoeXEaM(eXI]{?Q"><field name="NUM">0</field></shadow><block type="logic_boolean" id="E}6sYz:k2FL(qlTw/1{D"><field name="BOOL">TRUE</field></block></value><next><block type="variables_set" id="FhkN88.G)EU0[{u*r7^D"><field name="VAR" id="@t95B7Z@H-P|-Q%F#DG{">directionDeg</field><value name="VALUE"><shadow type="math_number" id="4OdcMfbPn$B6D!jrj/5V"><field name="NUM">90</field></shadow></value><next><block type="variables_set" id="vML;kbig-0h,u@ebvXH8"><field name="VAR" id="o$YLlt@/8y]8%Jt}7D@L">snakeHead</field><value name="VALUE"><shadow type="math_number" id="!X!ibmdCob6BqC^?0:A3"><field name="NUM">0</field></shadow><block type="game_create_sprite" id="jyu!R?dS4@:FX76nxA1i"><value name="x"><shadow type="math_number" id="2y0D!k{quT6Y^T-f24!z"><field name="NUM">2</field></shadow></value><value name="y"><shadow type="math_number" id="s@Pr!_../.I$_w8PJs{R"><field name="NUM">2</field></shadow></value></block></value><next><block type="typescript_statement" id="m.*z11#C2=|ik]7EG(Z|"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="for (let j = 3; j &gt;= 1; j--) {" line1="        basic.showNumber(j)" line2="        music.playTone(523, music.beat(BeatFraction.Quarter))" line3="        basic.pause(400)" line4="    }" numlines="5"></mutation><next><block type="device_play_note" id="m6[f;Nhm9*:(@9R+[Wl1"><value name="note"><shadow type="device_note" id="-c]?.O}g0@2^m?nCrdv?"><field name="name">784</field></shadow></value><value name="duration"><shadow type="device_beat" id="iJkxB+cT/TFJp.:FQ%?P"><field name="fraction">BeatFraction.Quarter</field></shadow></value><next><block type="device_print_message" id="-~MGH3j6gLXPpLdK}H}y"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="text"><shadow type="text" id="=]_,K*wfNVI[elexgghj"><field name="TEXT">GO!</field></shadow></value><next><block type="function_call" id="d6A_=KJzKq+?!nLC0ner"><mutation name="setMushroom" functionid="#:vYG2Z(D0IF]{ss2=+:"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="(cRHq(._did+S#]K%%1b" x="698" y="1322"><mutation name="setMushroom" functionid="#:vYG2Z(D0IF]{ss2=+:"></mutation><field name="function_name">setMushroom</field><comment pinned="false" h="80" w="160">Place mushroom randomly (not on snake)</comment><statement name="STACK"><block type="device_while" id="r-t!c]UqW($0Qbt6vKuh"><value name="COND"><shadow type="logic_boolean" id="HqlVj8bJahfX.s_:TR9~"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="HclQJ}#D?jPKD062-/~m"><value name="BOOL"><shadow type="logic_boolean" id="wuRm:,(2qJId|#mvphP-"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="#5kF1^gP=M!(HSqK37dF"><field name="VAR" id="tdiW{Ru~%7SctuuK+UHG">valid</field></block></value></block></value><statement name="DO"><block type="variables_set" id="#+gx`A|A;)HuRo7ZNn+b"><field name="VAR" id="|/v{-W6B2qoJPn%XkFDl">x</field><value name="VALUE"><shadow type="math_number" id="rX-,.v_*VwmA7bzHYayt"><field name="NUM">0</field></shadow><block type="device_random" id="}y;iz:Nks@i9_p)FDM?["><value name="min"><shadow type="math_number" id="i1#hvlV%VCRo`O/b))Of"><field name="NUM">0</field></shadow></value><value name="limit"><shadow type="math_number" id="]TIR?Y~SETwd46VePXAg"><field name="NUM">4</field></shadow></value></block></value><next><block type="variables_set" id="kf`9:V_A])?uMlI+UzgM"><field name="VAR" id="G53iJu]XU5k0-Uf4c_=V">y</field><value name="VALUE"><shadow type="math_number" id="vGaoGXI_Vqz=N5SG_XHS"><field name="NUM">0</field></shadow><block type="device_random" id="(z4IGJl|XQ;^?`x~bMY-"><value name="min"><shadow type="math_number" id="F!Whp6w;aHDMp;,5PpK$"><field name="NUM">0</field></shadow></value><value name="limit"><shadow type="math_number" id="h;opAak~Rpsdt~cLwg|."><field name="NUM">4</field></shadow></value></block></value><next><block type="variables_set" id="u_k_UXN++due19r{,`Q`"><field name="VAR" id="tdiW{Ru~%7SctuuK+UHG">valid</field><value name="VALUE"><shadow type="math_number" id="s.P$^7Q8,7xw4jd@vX2]"><field name="NUM">0</field></shadow><block type="logic_boolean" id="AcNBm0??O:~G5pLhjUI@"><field name="BOOL">TRUE</field></block></value><next><block type="controls_if" id="![wimB.vs4OBQR{vh]h|"><value name="IF0"><shadow type="logic_boolean" id="6SuqF,-}]AGO31$Fw;(5"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="/=U14bb_KWff/aePY`VM"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean" id="MMd~6+D9qZUMUs+.I*xA"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="(n]|z/Zad+$=|$lh87:R"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean" id="C`~{R~?p/jN~(%VoB]m~"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="j)j|m!l#NL5ufL}:;x.m"><field name="VAR" id="o$YLlt@/8y]8%Jt}7D@L">snakeHead</field></block></value><value name="B"><shadow type="logic_boolean" id="rP2EmXlki%y^OIZ/oWuy"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="m8W/dxt#pW1x^n)2#m3$"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="xb~o7u5{/ot!Z~@qz2^P"><field name="NUM">0</field></shadow><block type="game_sprite_property" id="xlJ+[s=%-ZKCgOaeb$}?"><field name="property">LedSpriteProperty.X</field><value name="sprite"><block type="variables_get" id="-13F-zYYU4cGzHY#/al1"><field name="VAR" id="o$YLlt@/8y]8%Jt}7D@L">snakeHead</field></block></value></block></value><value name="B"><shadow type="math_number" id="iP/0fI%xI:^^%lom9e$^"><field name="NUM">0</field></shadow><block type="variables_get" id="M0.p)kIG3RF%DP$6}8?s"><field name="VAR" id="|/v{-W6B2qoJPn%XkFDl">x</field></block></value></block></value></block></value><value name="B"><shadow type="logic_boolean" id="c9X^25j*X!l8NoRdn_r_"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id=",%]4`BvMd65tL~XUqBt}"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="C%Of(niW5=VA@VP!WE}g"><field name="NUM">0</field></shadow><block type="game_sprite_property" id="dyA7c36?$~`5l)rAT(i*"><field name="property">LedSpriteProperty.Y</field><value name="sprite"><block type="variables_get" id="b631ecHWo||:]#r?D{g`"><field name="VAR" id="o$YLlt@/8y]8%Jt}7D@L">snakeHead</field></block></value></block></value><value name="B"><shadow type="math_number" id="(B`w9WpqCb.ksSP9,*yv"><field name="NUM">0</field></shadow><block type="variables_get" id="Zr-=:nz`D1UYvICf=%9w"><field name="VAR" id="G53iJu]XU5k0-Uf4c_=V">y</field></block></value></block></value></block></value><statement name="DO0"><block type="variables_set" id="3RLzfiKyBIm3x$ftbgAd"><field name="VAR" id="tdiW{Ru~%7SctuuK+UHG">valid</field><value name="VALUE"><shadow type="math_number" id="UTrzR7zP-?CIwfI]+(Df"><field name="NUM">0</field></shadow><block type="logic_boolean" id="#}]KHdYM{k@u|5YbVuWa"><field name="BOOL">FALSE</field></block></value></block></statement><next><block type="pxt_controls_for_of" id="p(.pos:.3dZHpAL{:.Ao"><value name="VAR"><block type="variables_get_reporter" id="]~$XyxX6_;W_qxA0GqS=" deletable="false"><field name="VAR" id="]*X3h:v5C-tbSnf7XQAa">part</field></block></value><value name="LIST"><block type="variables_get" id="Kcfv~dI#tes5Z1ZRENe3"><field name="VAR" id="uf~Dr4DX~=HbZwd*i@b2">snakeTail</field></block></value><statement name="DO"><block type="controls_if" id="z:dfQkrE*rNR6L{f^qvZ"><value name="IF0"><shadow type="logic_boolean" id="M6@BJL)^h/XWg%YIsMT9"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="mpm_c);+)R8qy)1]=b?2"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean" id="_%Jy8^xTSmg8Ug(DsrRZ"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="^Ajiy}?Q1]kH9WNHk]F8"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="[Q#`l;nmChp-m}6n6x]`"><field name="NUM">0</field></shadow><block type="game_sprite_property" id="xz*}tWPx3p#9*(k-xGe8"><field name="property">LedSpriteProperty.X</field><value name="sprite"><block type="variables_get" id=":Ao@D4GX39bBX6T+rUXO"><field name="VAR" id="]*X3h:v5C-tbSnf7XQAa">part</field></block></value></block></value><value name="B"><shadow type="math_number" id="vB6cJcz1h4:q?p06FUg4"><field name="NUM">0</field></shadow><block type="variables_get" id="(VE!OhqNJzQTxpHMw}l+"><field name="VAR" id="|/v{-W6B2qoJPn%XkFDl">x</field></block></value></block></value><value name="B"><shadow type="logic_boolean" id="N29o!nn@c|F=GYgM_yRL"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="y#Kw[1gXxTu:8mi4-2}?"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="l48NgMqob+xe8ZsoHmcY"><field name="NUM">0</field></shadow><block type="game_sprite_property" id=")(i]F_bmE40W9adgf;hP"><field name="property">LedSpriteProperty.Y</field><value name="sprite"><block type="variables_get" id="Vb8Eu;v`*c^20H8[-^Tw"><field name="VAR" id="]*X3h:v5C-tbSnf7XQAa">part</field></block></value></block></value><value name="B"><shadow type="math_number" id="bH%zsn.yBxe5LZMvL@V8"><field name="NUM">0</field></shadow><block type="variables_get" id="S-k)u3mRiIr(Fa;6VcpA"><field name="VAR" id="G53iJu]XU5k0-Uf4c_=V">y</field></block></value></block></value></block></value><statement name="DO0"><block type="variables_set" id="Xf/`/|CP{l-:/2:0EwQm"><field name="VAR" id="tdiW{Ru~%7SctuuK+UHG">valid</field><value name="VALUE"><shadow type="math_number" id="{`o8@fNAB8(LvSv/zzP)"><field name="NUM">0</field></shadow><block type="logic_boolean" id="j.,5Y+wUb5/DMHU:5[s?"><field name="BOOL">FALSE</field></block></value></block></statement></block></statement></block></next></block></next></block></next></block></next></block></statement><next><block type="controls_if" id="+gi#Y^=:dosG3Vj9oa0c"><value name="IF0"><shadow type="logic_boolean" id="Y$.HoyEw0_Wvj*y^sI+P"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="i=W^9{,6Zl)];mgo[_F^"><field name="VAR" id="H-}X`aje~Pn=iS)goIHk">mushroom</field></block></value><statement name="DO0"><block type="game_delete_sprite" id="Jvf.QYsrL~sRwnM3TC@0"><value name="this"><block type="variables_get" id=".hX]~HP?JKz!-$TX.`HJ"><field name="VAR" id="H-}X`aje~Pn=iS)goIHk">mushroom</field></block></value></block></statement><next><block type="variables_set" id="s_7!nHOfoV(M/VH3SkDw"><field name="VAR" id="H-}X`aje~Pn=iS)goIHk">mushroom</field><value name="VALUE"><shadow type="math_number" id="4(mk#nyQ!j(G@P_dJ?V}"><field name="NUM">0</field></shadow><block type="game_create_sprite" id="fBM4elG0=[bW|V3n.fh6"><value name="x"><block type="variables_get" id="Tdg4F!bszMlKdbTIBH7p"><field name="VAR" id="|/v{-W6B2qoJPn%XkFDl">x</field></block></value><value name="y"><block type="variables_get" id="Hv/A4|f[FbRC=ksD=mt^"><field name="VAR" id="G53iJu]XU5k0-Uf4c_=V">y</field></block></value></block></value><next><block type="game_sprite_set_property" id="];oNcMojv|=@5SYUcplN"><field name="property">LedSpriteProperty.Blink</field><value name="sprite"><block type="variables_get" id="Vyh?nD[s9t^mEz-lN-lk"><field name="VAR" id="H-}X`aje~Pn=iS)goIHk">mushroom</field></block></value><value name="value"><shadow type="math_number" id="6(q%Zwvx#mDwo.G!4V00"><field name="NUM">150</field></shadow></value></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="afX:OzflqeY%+BX27m]t" x="1973" y="1322"><mutation name="moveSnake" functionid="FwsOo4=Yh-6TlvrtJnC+"></mutation><field name="function_name">moveSnake</field><comment pinned="false" h="80" w="160">Move the snake one step</comment><statement name="STACK"><block type="controls_if" id=";HqZQk$Y|/8ooQtY=i;|"><value name="IF0"><shadow type="logic_boolean" id="@Q@AqR}V+S:lkwpUwK;e"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id=")n^.wu4JA^C9pct0j5w7"><value name="BOOL"><shadow type="logic_boolean" id="y{6G8*k%E_[PgVRjrz8$"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="?yT{+=H)s}=%c-z#6smm"><field name="VAR" id="o$YLlt@/8y]8%Jt}7D@L">snakeHead</field></block></value></block></value><statement name="DO0"><block type="function_return" id="RGTr1iL.2pTq!C8shomb"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="true"></mutation></block></statement><next><block type="variables_set" id="4A=[,,$yZ;;KpO1;=~=^"><field name="VAR" id="bg17v_dUyLvAYpUy6.fT">px</field><value name="VALUE"><shadow type="math_number" id="Oe.%qe,cdZrMU~f{^~Ri"><field name="NUM">0</field></shadow><block type="game_sprite_property" id=".+DkknI3hLG,UOkVWQ4["><field name="property">LedSpriteProperty.X</field><value name="sprite"><block type="variables_get" id="Xu8@`d1Tp;U8QP:W)tO`"><field name="VAR" id="o$YLlt@/8y]8%Jt}7D@L">snakeHead</field></block></value></block></value><next><block type="variables_set" id="yClTXLAUHn=(RnCTHG*W"><field name="VAR" id="fqV5ck$/FhS#I|Ae14TH">py</field><value name="VALUE"><shadow type="math_number" id="*ef-HzB`lW~1l~s1D-oT"><field name="NUM">0</field></shadow><block type="game_sprite_property" id="sO79^p=9eCuiE9?t[$OR"><field name="property">LedSpriteProperty.Y</field><value name="sprite"><block type="variables_get" id="TtRHcmb7^ecH3A*;;z=L"><field name="VAR" id="o$YLlt@/8y]8%Jt}7D@L">snakeHead</field></block></value></block></value><next><block type="typescript_statement" id="p6hbJJZR@/?Rf.VnXN:-"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let [nx, ny] = computeNextPosition(px, py, directionDeg)" numlines="1"></mutation><next><block type="controls_if" id="!k:lN?`ie#9Hqt!miT^C"><comment pinned="false" h="80" w="160">Move tail</comment><value name="IF0"><shadow type="logic_boolean" id="ElGBx15#={=~(mB[)Bp4"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id=":B[5jCg9=y{F4z{ePwA("><field name="OP">GT</field><value name="A"><shadow type="math_number" id="+~7@ulCUnju)bna@oqXf"><field name="NUM">0</field></shadow><block type="lists_length" id="ufS@7dsFD!+wV,(%~qL:"><value name="VALUE"><block type="variables_get" id="~BX}JM3wQg-%u]?vLTPo"><field name="VAR" id="uf~Dr4DX~=HbZwd*i@b2">snakeTail</field></block></value></block></value><value name="B"><shadow type="math_number" id="4HHxJ@nhyRP,t4;A|iD1"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="typescript_statement" id="}#3`A1g%R+qn3Q~=!NJ4"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="for (let i = snakeTail.length - 1; i &gt; 0; i--) {" line1="            snakeTail[i].set(LedSpriteProperty.X, snakeTail[i - 1].get(LedSpriteProperty.X))" line2="            snakeTail[i].set(LedSpriteProperty.Y, snakeTail[i - 1].get(LedSpriteProperty.Y))" line3="        }" numlines="4"></mutation><next><block type="game_sprite_set_property" id="+u@Ufz/-lJ!*dP.u|[yR"><field name="property">LedSpriteProperty.X</field><value name="sprite"><block type="lists_index_get" id="ekYWq^NSNh0ZG1#4n(]|"><value name="LIST"><block type="variables_get" id="?=X):33%z;Rn!SKAVBGa"><field name="VAR" id="uf~Dr4DX~=HbZwd*i@b2">snakeTail</field></block></value><value name="INDEX"><shadow type="math_number" id="vB,fMvDU2PkvV6:R`~Y;"><field name="NUM">0</field></shadow></value></block></value><value name="value"><block type="variables_get" id="qZ^`agQ|M_K=ox{c|o4q"><field name="VAR" id="bg17v_dUyLvAYpUy6.fT">px</field></block></value><next><block type="game_sprite_set_property" id="B-aPX#]@o8w[3c5QI46f"><field name="property">LedSpriteProperty.Y</field><value name="sprite"><block type="lists_index_get" id="+7tu1S$__b~V8b:HhG=("><value name="LIST"><block type="variables_get" id="K;5$l2`nG%ml5Dkl}ACn"><field name="VAR" id="uf~Dr4DX~=HbZwd*i@b2">snakeTail</field></block></value><value name="INDEX"><shadow type="math_number" id="7x1[/+XB;hKa+V=iaDzH"><field name="NUM">0</field></shadow></value></block></value><value name="value"><block type="variables_get" id="#-un~F9V-Gr#)FT`O@yR"><field name="VAR" id="fqV5ck$/FhS#I|Ae14TH">py</field></block></value></block></next></block></next></block></statement><next><block type="game_sprite_set_property" id="L$+m#%:D)3EcTd;s`d?1"><field name="property">LedSpriteProperty.X</field><comment pinned="false" h="80" w="160">Move head</comment><value name="sprite"><block type="variables_get" id="zLuGA~k13*:v|KrODY+P"><field name="VAR" id="o$YLlt@/8y]8%Jt}7D@L">snakeHead</field></block></value><value name="value"><block type="variables_get" id="#3~jeG!|2IEaq]d-Wcd;"><field name="VAR" id="xBlH!za4zJk*jKgwn6wV">nx</field></block></value><next><block type="game_sprite_set_property" id="yP?I8Flf$nY!^s9d6N18"><field name="property">LedSpriteProperty.Y</field><value name="sprite"><block type="variables_get" id="NIhINMo2`b3;]8tLT}^J"><field name="VAR" id="o$YLlt@/8y]8%Jt}7D@L">snakeHead</field></block></value><value name="value"><block type="variables_get" id="q;p+?#6no=`hPboZ|[TU"><field name="VAR" id="W6WGkn($(U~{`RQCJ^t]">ny</field></block></value><next><block type="pxt_controls_for_of" id="T-puLY=mn$=l[!yT9Wj("><comment pinned="false" h="80" w="160">Collision with own body</comment><value name="VAR"><block type="variables_get_reporter" id="P{Y2CG#`tNJT33#c_/(Z" deletable="false"><field name="VAR" id="BiXidp4-X6W9%3W{z!9a">seg</field></block></value><value name="LIST"><block type="variables_get" id="KZ_#!ekJaaLY_4*aGCOK"><field name="VAR" id="uf~Dr4DX~=HbZwd*i@b2">snakeTail</field></block></value><statement name="DO"><block type="controls_if" id="JO.1d=kpp#uaS7D0d[W/"><value name="IF0"><shadow type="logic_boolean" id="8fa4C|S_96XOd.]Ea:Hd"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="uzZdCm?5t6^t4yX!Emn1"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean" id="frVE{Kl#t1dn#kM#13A."><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="1`H:cR/r4n#W!?A*rh/i"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="==JY^U0jMs-:^.r%1g5/"><field name="NUM">0</field></shadow><block type="game_sprite_property" id="TX*+=%I*?K{gt=+VZs0e"><field name="property">LedSpriteProperty.X</field><value name="sprite"><block type="variables_get" id="TE[s~cI{~*VUR|UjY5)B"><field name="VAR" id="o$YLlt@/8y]8%Jt}7D@L">snakeHead</field></block></value></block></value><value name="B"><shadow type="math_number" id="fX4G5Q^aB!B$}VZ@ASv#"><field name="NUM">0</field></shadow><block type="game_sprite_property" id="*hf%c{Va[319,(z@CPj)"><field name="property">LedSpriteProperty.X</field><value name="sprite"><block type="variables_get" id="/R;9%aA$kas8hg4$Mj$+"><field name="VAR" id="BiXidp4-X6W9%3W{z!9a">seg</field></block></value></block></value></block></value><value name="B"><shadow type="logic_boolean" id=";PO49jOt=6c)}$g7U1u+"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="!rDhpi[.%]2U-I-z]j{3"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="iV+J8[%9o`i%XmnE#HLJ"><field name="NUM">0</field></shadow><block type="game_sprite_property" id=".:{iMyTfV(YT02L`?_CI"><field name="property">LedSpriteProperty.Y</field><value name="sprite"><block type="variables_get" id="sI^q{X*cvg!*HUtB-j(T"><field name="VAR" id="o$YLlt@/8y]8%Jt}7D@L">snakeHead</field></block></value></block></value><value name="B"><shadow type="math_number" id="u][,o/Kp8DF%~]530DsP"><field name="NUM">0</field></shadow><block type="game_sprite_property" id="LlEMF`zXV72Nb804MjHU"><field name="property">LedSpriteProperty.Y</field><value name="sprite"><block type="variables_get" id="..^;xS06.vF#QeAjyr`~"><field name="VAR" id="BiXidp4-X6W9%3W{z!9a">seg</field></block></value></block></value></block></value></block></value><statement name="DO0"><block type="variables_set" id="zbv:$pbfg|Rx.b`$k/Ks"><field name="VAR" id="!lPEuyTsph-/kL2-vF;8">snakeCrash</field><value name="VALUE"><shadow type="math_number" id="^Fv;vs-YIT#:XtjKZTwk"><field name="NUM">0</field></shadow><block type="logic_boolean" id="cBVW^{k#v0QY.HH7j]?C"><field name="BOOL">TRUE</field></block></value></block></statement></block></statement><next><block type="controls_if" id="19[kW!?ZM03cUSn_(`_p"><comment pinned="false" h="80" w="160">Check if mushroom eaten</comment><value name="IF0"><shadow type="logic_boolean" id="Co~hJ[mRC_B{HGr+3(}5"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="H(Enu}AykGV$(pwg6({H"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean" id=".5DXntN6dvGo[}Y!TsfG"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="B8d3ys6jEmxHT.E2Kpwc"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean" id="WVF$x}YO)[*Nfw0}?R,2"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="bPR)%L@s,)W3VL.(Sz{m"><field name="VAR" id="H-}X`aje~Pn=iS)goIHk">mushroom</field></block></value><value name="B"><shadow type="logic_boolean" id="}nKQG1O.[PSzf+Avr2CI"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id=",qWfF0NDx8r,{QxkvJK0"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="lBIB@%Vwe~4.QbaqxfaH"><field name="NUM">0</field></shadow><block type="game_sprite_property" id="4uPLIA=Q1E4#3~z=;Ejk"><field name="property">LedSpriteProperty.X</field><value name="sprite"><block type="variables_get" id="b}j_?)Qg5#t:;1a%uLN+"><field name="VAR" id="o$YLlt@/8y]8%Jt}7D@L">snakeHead</field></block></value></block></value><value name="B"><shadow type="math_number" id="P5T!`IeW1-6@7qoB:J/K"><field name="NUM">0</field></shadow><block type="game_sprite_property" id="Ld6,=A_LapZ[z,5RNYd("><field name="property">LedSpriteProperty.X</field><value name="sprite"><block type="variables_get" id="y@KbC.2/m2M%/J+R,}Qa"><field name="VAR" id="H-}X`aje~Pn=iS)goIHk">mushroom</field></block></value></block></value></block></value></block></value><value name="B"><shadow type="logic_boolean" id="hV-==-7/;-Ce3$,2S{Cb"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="sl_+ceIgsPkZsMbbrl75"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="`;?sWfuW/@x,C;DWTDLA"><field name="NUM">0</field></shadow><block type="game_sprite_property" id="xI~`+P^MaY0#+{O39sMu"><field name="property">LedSpriteProperty.Y</field><value name="sprite"><block type="variables_get" id="M,U12Q0-0o.f]j)aXi3`"><field name="VAR" id="o$YLlt@/8y]8%Jt}7D@L">snakeHead</field></block></value></block></value><value name="B"><shadow type="math_number" id="*9X[Yv02)Y7N,f$`ik)S"><field name="NUM">0</field></shadow><block type="game_sprite_property" id=":kupA!jDi?X-OVgU?]tM"><field name="property">LedSpriteProperty.Y</field><value name="sprite"><block type="variables_get" id="USm8sRO.yKEk/oLQF600"><field name="VAR" id="H-}X`aje~Pn=iS)goIHk">mushroom</field></block></value></block></value></block></value></block></value><statement name="DO0"><block type="game_delete_sprite" id="fc?%Jsrt@[`RVXXK3Ufy"><value name="this"><block type="variables_get" id="-KbIr%!|k~a8_Td^#rrv"><field name="VAR" id="H-}X`aje~Pn=iS)goIHk">mushroom</field></block></value><next><block type="typescript_statement" id="fHy43#!$IE8=0A(4,.LJ"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="mushroom = null" numlines="1"></mutation><next><block type="function_call" id="2gamBPQ%etMUTrQ[1!1M"><mutation name="eatMushroomAndGrowSnake" functionid="}3[/n7c1!|Q%C,t~?*3_"></mutation></block></next></block></next></block></statement><next><block type="controls_if" id="JI(wTg;pdt{HkT79x.ig"><comment pinned="false" h="80" w="160">Game over handling</comment><value name="IF0"><shadow type="logic_boolean" id="K-q:*$S7Giz4AOeJGcV#"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="hO*0qx3+ebhsQnn8oiv7"><field name="VAR" id="!lPEuyTsph-/kL2-vF;8">snakeCrash</field></block></value><statement name="DO0"><block type="variables_set" id="CKiL@V@R3XqK12$f@oJ:"><field name="VAR" id=",-ya$pkvdvHU*AL`.FIE">gameRunning</field><value name="VALUE"><shadow type="math_number" id="+i}=s^rB[V/AZ[+hvV5e"><field name="NUM">0</field></shadow><block type="logic_boolean" id="!gwoDRyiDgZ0b{Mq-M/a"><field name="BOOL">FALSE</field></block></value><next><block type="device_start_melody" id="ZeTN:O]^BW|:FA`0rtHg"><field name="options">MelodyOptions.Once</field><value name="melody"><shadow type="device_builtin_melody" id="eE|-k}1gOze06HZS%^!@"><field name="melody">Melodies.PowerDown</field></shadow></value><next><block type="device_pause" id="ujD5v(3;[@FN:$`(ooln"><value name="pause"><shadow type="timePicker" id="!]=rMJ`T:cThv?SA~+-o"><field name="ms">300</field></shadow></value><next><block type="device_print_message" id="KU)#(WpWdTs1Pl{9DlJq"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="text"><shadow type="text" id="f|%V*J.`]n1_8/YMP?1V"><field name="TEXT">GAME OVER</field></shadow></value><next><block type="device_pause" id="1C]+GFFbCv}whgWi@p04"><value name="pause"><shadow type="timePicker" id="nE2r`s=-VJC,tVPS+:J9"><field name="ms">400</field></shadow></value><next><block type="device_print_message" id="0,MyBH-Q[olh=ey#K#hx"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="text"><shadow type="text" id=":sM3knFM]bi5fR;!(MQ_"><field name="TEXT">SCORE:</field></shadow></value><next><block type="device_show_number" id="E~f@Hj-p41Qbf[yyThk1"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="number"><block type="variables_get" id="t2]/f[OF(9Ao^xKVwzV6"><field name="VAR" id="PR$wR^v7wuLgr[[%8D(g">gameScore</field></block></value><next><block type="typescript_statement" id="M8Mw/vQiMzUoaVd{0M%D"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="control.inBackground(() =&gt; {" line1="            while (!input.buttonIsPressed(Button.AB)) {" line2="                basic.pause(100)" line3="            }" line4="            startGame()" line5="        })" numlines="6"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="sjIhStU8H)|36g;:q[lR" x="3464" y="1322"><mutation name="eatMushroomAndGrowSnake" functionid="}3[/n7c1!|Q%C,t~?*3_"></mutation><field name="function_name">eatMushroomAndGrowSnake</field><comment pinned="false" h="80" w="160">When eating a mushroom</comment><statement name="STACK"><block type="function_call" id="o%(Gve}Ym%0!$Ix51JUW"><mutation name="growTailByOne" functionid="uFKUzGDWEeVM@b[)G^VQ"></mutation><next><block type="device_play_note" id="p}-w~OzTmYmx-W|*.]A`"><value name="note"><shadow type="device_note" id=",MCJ(V+6.[5Y}r)G#=sh"><field name="name">659</field></shadow></value><value name="duration"><shadow type="device_beat" id="(?q)tL^W_:o(!A{}fu4?"><field name="fraction">BeatFraction.Eighth</field></shadow></value><next><block type="variables_change" id="yiEwe~H]I.3qJ_KMb-T%"><field name="VAR" id="PR$wR^v7wuLgr[[%8D(g">gameScore</field><value name="VALUE"><shadow type="math_number" id="g/Oav,04*UW@VNP6QKc("><field name="NUM">1</field></shadow></value><next><block type="variables_set" id="K1i#|^~%N+-!iddM4}P3"><field name="VAR" id="W0u5{3uHf*oR$89h=~s4">oldSpeed</field><value name="VALUE"><shadow type="math_number" id="NZ}RYMBnlHvXT|+xXBne"><field name="NUM">0</field></shadow><block type="variables_get" id="AvgD91U:.D!mCIAaIoPg"><field name="VAR" id="nTU`w0?7uuv#,EmqUwAA">snakeSpeed</field></block></value><next><block type="variables_set" id="/T^vL,MD|4Dq^e2[+S+a"><field name="VAR" id="nTU`w0?7uuv#,EmqUwAA">snakeSpeed</field><value name="VALUE"><shadow type="math_number" id="fzFYnu1D5l/`hIhigYE."><field name="NUM">0</field></shadow><block type="math_op2" id="Rg6L!#t%|L?x[r_BGOHp"><field name="op">max</field><value name="x"><block type="variables_get" id="O9V]-KmiziUB!PDfQyQ:"><field name="VAR" id="E/}~IDI!)ru2rB^_#e!v">MIN_SPEED</field></block></value><value name="y"><block type="math_arithmetic" id="5Ru2DxZDYj5E0EZ8(ZGL"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="ZDB;1@QPO7N+,$4T`w,9"><field name="NUM">0</field></shadow><block type="variables_get" id="+,Uh39Ge?;dT3bnljWrg"><field name="VAR" id="nTU`w0?7uuv#,EmqUwAA">snakeSpeed</field></block></value><value name="B"><shadow type="math_number" id="wPRQYmhW~Tk.SM:rP7et"><field name="NUM">0</field></shadow><block type="variables_get" id="%#PRK2XcM/}%,|2Z=]ui"><field name="VAR" id="VqK*fQd`j$[?qju,NnFV">SPEED_STEP</field></block></value></block></value></block></value><next><block type="controls_if" id="w@nk4053ZWJ85l4WT_I]"><value name="IF0"><shadow type="logic_boolean" id="bg#1{/A5O7`JPRq9)j*1"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="we4X`L)XM~fFfpSPJ*UI"><field name="OP">LT</field><value name="A"><shadow type="math_number" id="?Bt34*QL*;p}$)[yh!jK"><field name="NUM">0</field></shadow><block type="variables_get" id="a_M{oXYB|Cy1E[i*Axi?"><field name="VAR" id="nTU`w0?7uuv#,EmqUwAA">snakeSpeed</field></block></value><value name="B"><shadow type="math_number" id="|]n!y/A(()za*`$mojKP"><field name="NUM">0</field></shadow><block type="variables_get" id="l^L,3at?LfnU5A4}cw(%"><field name="VAR" id="W0u5{3uHf*oR$89h=~s4">oldSpeed</field></block></value></block></value><statement name="DO0"><block type="device_play_note" id="_iOtq~r*2R-#R!smW3;$"><value name="note"><shadow type="device_note" id="t=2QfRq$UN.IS2/h$|4Y"><field name="name">988</field></shadow></value><value name="duration"><shadow type="device_beat" id="3buHwdhG`boi}ur`^m#1"><field name="fraction">BeatFraction.Sixteenth</field></shadow></value></block></statement><next><block type="function_call" id="@a:57Hi{B1g[fg8;{Pa9"><mutation name="setMushroom" functionid="#:vYG2Z(D0IF]{ss2=+:"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>