<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="]Z[YKR1DC?+?eyQC4K57">gameScore</variable><variable id="nJ1Q?Na.07C:f/9E6SmU">oldSpeed</variable><variable id="R=y5+{x*@~Ok=1a:U5G;">snakeSpeed</variable><variable id="!`9Cw2o?^gn@*nnM2)|l">MIN_SPEED</variable><variable id="$8p:lPekcj]+-d|#;WF*">SPEED_STEP</variable><variable id="E,#ANbl_O$i1|~@sHdd5">INITIAL_SPEED</variable><variable id="?AOcKNek%IKSe%_-q]tE">snakeCrash</variable><variable id="VP*c^gS@+0b6)PSbKXm,">gameRunning</variable><variable id="%b6jCV=XJ)DZ8qiqE!#f">directionDeg</variable><variable id="Zd4[ni]p+J3h%[aNB?UA">snakeHead</variable><variable id="j//3tsAgDl+n%B^T0hGF">snakeTail</variable><variable id="LUd;Lo7vtZX9Y22`}mxQ">s</variable><variable id="``AXPHwR_a2|_x%l3TM/">mushroom</variable><variable id="e4LF=?Qt2YNc[@G#3CHC">tx</variable><variable id="KJLu-gSvgIhg=Wl,2KKp">ty</variable><variable id="eFd0eu@_]dhTh;*+J?w}">last</variable><variable id="jb5p?wQmNtb8V78qbXEF">nx</variable><variable id="rq:xp[3`V2R$`q4udXue">ny</variable><variable id="!JeGWgme]rHv$%~LM]T~">px</variable><variable id="h*NE!1u+}d4rq53|x-w$">py</variable><variable id="r!qw+rRKP)|;JI$aT:Z4">seg</variable><variable id="cD-8yI/E:{{*Nx{?ez)y">x</variable><variable id="B;LSZX0,o_]_/O;=n!FI">y</variable></variables><comment id="ZwapYL|Tg$_UAH1VtS{S" x="0" y="0" w="190" h="120">
Temporary variables
</comment><block type="pxt-on-start" id="!.ZP{$d3%tVWr^baxWhw" x="20" y="20"><statement name="HANDLER"><block type="typescript_statement" id="CoCZ;%Tt)pzvmi8-*c=m"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let y = 0" numlines="1" declaredvars="y"></mutation><next><block type="typescript_statement" id="2QsgTJyAM8%NIRX^e{u+"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let x = 0" numlines="1" declaredvars="x"></mutation><next><block type="typescript_statement" id="tfi9d5H6b}6QCv|7L4-O"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let mushroom: game.LedSprite = null" numlines="1" declaredvars="mushroom"></mutation><next><block type="typescript_statement" id="k9e/7tWGQ(J{xBqjMoz$"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let snakeTail: game.LedSprite[] = []" numlines="1" declaredvars="snakeTail"></mutation><next><block type="typescript_statement" id="rwaJ07o5[*GIGWGOF*5Z"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let snakeHead: game.LedSprite = null" numlines="1" declaredvars="snakeHead"></mutation><comment pinned="false" h="80" w="160">---------------------------------------------------------
FINAL SNAKE GAME – Calliope mini V2 (Block Editor Friendly)
---------------------------------------------------------
Controls:
• A  → turn left
• B  → turn right
• A+B → restart after Game Over
---------------------------------------------------------

--- Game variables ---</comment><next><block type="typescript_statement" id="jC}0@=g`?95rw#GfrBpv"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let valid2 = false" numlines="1" declaredvars="valid2"></mutation><next><block type="variables_set" id="iU:XP~s;`93cck8/xB{u"><field name="VAR" id="E,#ANbl_O$i1|~@sHdd5">INITIAL_SPEED</field><value name="VALUE"><shadow type="math_number" id="h!b(7$=%6v)YU4ls,]6r"><field name="NUM">900</field></shadow></value><next><block type="variables_set" id="oAd9*84DljfG+55DTw_J"><field name="VAR" id="$8p:lPekcj]+-d|#;WF*">SPEED_STEP</field><value name="VALUE"><shadow type="math_number" id=",zWc,1B:v*^Qk}|Xf9i5"><field name="NUM">75</field></shadow></value><next><block type="variables_set" id=":t_A8@|/m5H`o%D|k(Ei"><field name="VAR" id="!`9Cw2o?^gn@*nnM2)|l">MIN_SPEED</field><value name="VALUE"><shadow type="math_number" id="T{hr(c_vuy,^(4CMNo|x"><field name="NUM">150</field></shadow></value><next><block type="function_call" id="EsIhhZd#-6Ls~@0lsV#Z"><mutation name="startGame" functionid=")lhx_L)lVL9UnmZg/JHY"></mutation><comment pinned="false" h="80" w="160">--- Auto-start ---</comment></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="device_button_event" id="K|~T1k.U?[.JkYQZCc+w" x="439" y="20"><field name="NAME">Button.A</field><comment pinned="false" h="80" w="160">--- Controls ---</comment><statement name="HANDLER"><block type="controls_if" id="kVnsG+U3yn,;|G1|]ZE;"><value name="IF0"><shadow type="logic_boolean" id="ixj=5HWLNIwM*!V]1#Q;"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="luOse5!qbPK%q;+Z[{WJ"><field name="VAR" id="VP*c^gS@+0b6)PSbKXm,">gameRunning</field></block></value><statement name="DO0"><block type="variables_set" id="0rFtQ`h#iJ@PG*WQQ$EI"><field name="VAR" id="%b6jCV=XJ)DZ8qiqE!#f">directionDeg</field><value name="VALUE"><shadow type="math_number" id="zwB@;c;R4gymM60Jz)G+"><field name="NUM">0</field></shadow><block type="math_modulo" id=",.mFprhixq/:0d1e/Gg6"><value name="DIVIDEND"><shadow type="math_number" id="vQO=G^-lb1%@FG.0A~5Z"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="/eRB`p}2Z_:`]Z!Gmc-O"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="J]j[;{$cPC6$iR5%bEV["><field name="NUM">0</field></shadow><block type="variables_get" id="DBwYX9t61jx}FTo]J[V5"><field name="VAR" id="%b6jCV=XJ)DZ8qiqE!#f">directionDeg</field></block></value><value name="B"><shadow type="math_number" id="[J,+5w%Qojtle/.lm#@@"><field name="NUM">270</field></shadow></value></block></value><value name="DIVISOR"><shadow type="math_number" id="(|q{9WEfq=Rv];{TsA,x"><field name="NUM">360</field></shadow></value></block></value></block></statement></block></statement></block><block type="device_button_event" id="I59?0QHPW*=?B3{Ufiws" x="1206" y="20"><field name="NAME">Button.AB</field><statement name="HANDLER"><block type="controls_if" id="TD1O_b;#=vuGyXBE:g%1"><value name="IF0"><shadow type="logic_boolean" id="gP7M}.3t9)hfPf08bw,:"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="^-*mIlRrlNhm[Y,uBWA/"><value name="BOOL"><shadow type="logic_boolean" id="Q!w9ZY+r[ES#Ju{+AMW]"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="O?tyMdm^4[1{#Vgyr%^#"><field name="VAR" id="VP*c^gS@+0b6)PSbKXm,">gameRunning</field></block></value></block></value><statement name="DO0"><block type="function_call" id="15_ldtFhPQqsQS;UiL[w"><mutation name="startGame" functionid=")lhx_L)lVL9UnmZg/JHY"></mutation></block></statement></block></statement></block><block type="device_button_event" id="C#d(sO`OQ[r4Wdw?b//4" x="1606" y="20"><field name="NAME">Button.B</field><statement name="HANDLER"><block type="controls_if" id="7W(;AtaK6O*[,P*[[iJ$"><value name="IF0"><shadow type="logic_boolean" id="=OtYJZ3XW+@WzGG5c|$l"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="G;W__duNM^dXQh+j:8l3"><field name="VAR" id="VP*c^gS@+0b6)PSbKXm,">gameRunning</field></block></value><statement name="DO0"><block type="variables_set" id="}}`x**%)we16$z2kV{-W"><field name="VAR" id="%b6jCV=XJ)DZ8qiqE!#f">directionDeg</field><value name="VALUE"><shadow type="math_number" id="pdm2|dEec+=-A$S$ru{k"><field name="NUM">0</field></shadow><block type="math_modulo" id="B37E/a?l[x}6O|r`,r+k"><value name="DIVIDEND"><shadow type="math_number" id=";g!@Hz(+T$vWuSyPZ*(l"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="/VNmpxB!#}E1@IX`=kaO"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="E?~ww7m{|HLgmWA@yP^#"><field name="NUM">0</field></shadow><block type="variables_get" id="v~~if)tA.#Gwg0=4(RZ$"><field name="VAR" id="%b6jCV=XJ)DZ8qiqE!#f">directionDeg</field></block></value><value name="B"><shadow type="math_number" id="F|yNTp!u-HM1PW~c+ykW"><field name="NUM">90</field></shadow></value></block></value><value name="DIVISOR"><shadow type="math_number" id="PxqwIV]XVb~-:r:k8Fi1"><field name="NUM">360</field></shadow></value></block></value></block></statement></block></statement></block><block type="device_forever" id="FfNabQli*6#E?V[,Q{zH" x="2365" y="20"><comment pinned="false" h="80" w="160">--- Main loop ---</comment><statement name="HANDLER"><block type="controls_if" id="O+(rdOedi`/dj)~8h|#]"><mutation else="1"></mutation><value name="IF0"><shadow type="logic_boolean" id="BhKAZ:dUVq[;kxn,HE4{"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="h0}qOWv+wlq;+Hmo#y5C"><field name="VAR" id="VP*c^gS@+0b6)PSbKXm,">gameRunning</field></block></value><statement name="DO0"><block type="function_call" id=")dM:Goo[|mPhsN-eM096"><mutation name="moveSnake" functionid="D7^Cbm}Cb/MHoOvHU688"></mutation><next><block type="device_pause" id="s=;|)}lk~w#-n_|)^5sK"><value name="pause"><shadow type="timePicker" id="Bt%lz+O|{E+:{.a3s=]b"><field name="ms">500</field></shadow><block type="variables_get" id="byuxAdX~N#DzdOg+F?hF"><field name="VAR" id="R=y5+{x*@~Ok=1a:U5G;">snakeSpeed</field></block></value></block></next></block></statement><statement name="ELSE"><block type="device_pause" id="_@tGE-]qRy4wEO$dlS~v"><value name="pause"><shadow type="timePicker" id="gA(W#E{I6[:y54,Y/EdH"><field name="ms">100</field></shadow></value></block></statement></block></statement></block><block type="function_definition" id="S.?6qV(NFxZEf;tB%2Y:" x="2712" y="20"><mutation name="eatMushroom" functionid="RrgZ%htUQpJV:Uyga.VO"></mutation><field name="function_name">eatMushroom</field><comment pinned="false" h="80" w="160">--- Eat mushroom ---</comment><statement name="STACK"><block type="function_call" id="w.,D6sfNJdPw#X$h0~W!"><mutation name="growTail" functionid="sP.Bepdzjft}:2f4lcL%"></mutation><next><block type="device_play_note" id="1TI5-o+FO.gLh=M$c=Fn"><value name="note"><shadow type="device_note" id="J9-xN!1V:LIJJ)LRuG:Q"><field name="name">659</field></shadow></value><value name="duration"><shadow type="device_beat" id="*.C30z0+]GmB+y)MTkxn"><field name="fraction">BeatFraction.Eighth</field></shadow></value><next><block type="variables_change" id="6hQEJAF4L{[oVx2)OgEA"><field name="VAR" id="]Z[YKR1DC?+?eyQC4K57">gameScore</field><value name="VALUE"><shadow type="math_number" id="jDO3Y2X%qpweOYVH7US)"><field name="NUM">1</field></shadow></value><next><block type="variables_set" id="_cVk_o*+9]P7`9[)twP4"><field name="VAR" id="nJ1Q?Na.07C:f/9E6SmU">oldSpeed</field><value name="VALUE"><shadow type="math_number" id="BljD=CsWKuLDx]pV;_Nc"><field name="NUM">0</field></shadow><block type="variables_get" id="tzA{mP%+;]$c|3kNK2jb"><field name="VAR" id="R=y5+{x*@~Ok=1a:U5G;">snakeSpeed</field></block></value><next><block type="variables_set" id="]w!L=v;7_FW{JblPS2t3"><field name="VAR" id="R=y5+{x*@~Ok=1a:U5G;">snakeSpeed</field><value name="VALUE"><shadow type="math_number" id="]etf@fS=v3]Ho5cLGA@r"><field name="NUM">0</field></shadow><block type="math_op2" id="Ej|`*d4ynXXIDwTd}*An"><field name="op">max</field><value name="x"><block type="variables_get" id="WUF7PkFY9WFFfYZ%;!gP"><field name="VAR" id="!`9Cw2o?^gn@*nnM2)|l">MIN_SPEED</field></block></value><value name="y"><block type="math_arithmetic" id="G6GC?@~WHyei`-M-0aZ$"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="bL0:M)|qrYu@oz`ve[+A"><field name="NUM">0</field></shadow><block type="variables_get" id="YKKS|teBPY*M@//^vt$Y"><field name="VAR" id="R=y5+{x*@~Ok=1a:U5G;">snakeSpeed</field></block></value><value name="B"><shadow type="math_number" id="%-*O5R{PR5^t{0vP8#?."><field name="NUM">0</field></shadow><block type="variables_get" id="yb`~9gXgs.38EADiS01~"><field name="VAR" id="$8p:lPekcj]+-d|#;WF*">SPEED_STEP</field></block></value></block></value></block></value><next><block type="controls_if" id="N/i[R1Tmv|S[r?u*v?]c"><value name="IF0"><shadow type="logic_boolean" id="!obuHI6vcySU#7Y-^:tB"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="w%J7QWYiydB,=NNwBU]9"><field name="OP">LT</field><value name="A"><shadow type="math_number" id="zK0PfTP`Y63/m+[IEr~`"><field name="NUM">0</field></shadow><block type="variables_get" id="ZTu,AA=H[zIagmih`(B="><field name="VAR" id="R=y5+{x*@~Ok=1a:U5G;">snakeSpeed</field></block></value><value name="B"><shadow type="math_number" id=";]2))3?n-8Qva9ZhW78x"><field name="NUM">0</field></shadow><block type="variables_get" id=";A~.x-aKB|rL`[/(%?[e"><field name="VAR" id="nJ1Q?Na.07C:f/9E6SmU">oldSpeed</field></block></value></block></value><statement name="DO0"><block type="device_play_note" id="KGYq0.hs`H%yHQR(-ErF"><value name="note"><shadow type="device_note" id="8JBwyG,=t3N+JWtMsL1*"><field name="name">988</field></shadow></value><value name="duration"><shadow type="device_beat" id="[%#rG`u#E#Mt9xt[rFz8"><field name="fraction">BeatFraction.Sixteenth</field></shadow></value></block></statement><next><block type="function_call" id="z`**4euX}d$|0G-|a5fA"><mutation name="setMushroom" functionid="z8p1q@Z%0T{o{YP8S?3u"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="+M1|aP?jCl%ApSQdcz@$" x="3661" y="20"><mutation name="clearAll" functionid="#[A/Gt$QP8LYbT/Q2p@Y"></mutation><field name="function_name">clearAll</field><comment pinned="false" h="80" w="160">--- Clear all sprites ---</comment><statement name="STACK"><block type="controls_if" id="`z97mP2HF-hnIOUgwFX#"><value name="IF0"><shadow type="logic_boolean" id="F-3oiqz{)70{[d8-CcGx"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="Q6l4,dJ3|S?KHSUB.bI5"><field name="VAR" id="Zd4[ni]p+J3h%[aNB?UA">snakeHead</field></block></value><statement name="DO0"><block type="game_delete_sprite" id="/{tIUHHpz_d.G9N$-S;B"><value name="this"><block type="variables_get" id="VMi_Jo3.qzd*2u0Q|!j#"><field name="VAR" id="Zd4[ni]p+J3h%[aNB?UA">snakeHead</field></block></value></block></statement><next><block type="pxt_controls_for_of" id="AJU-elf19MlX`*ZhN!w="><value name="VAR"><block type="variables_get_reporter" id="IVXe~|RtE0zuGvT~@oIP" deletable="false"><field name="VAR" id="LUd;Lo7vtZX9Y22`}mxQ">s</field></block></value><value name="LIST"><block type="variables_get" id=".fGJp;GLLat,m3^#Ls1["><field name="VAR" id="j//3tsAgDl+n%B^T0hGF">snakeTail</field></block></value><statement name="DO"><block type="game_delete_sprite" id="z5~iw8*~.eATYJD^slmu"><value name="this"><block type="variables_get" id="|8/e2R%-L1xq,-$6IxMf"><field name="VAR" id="LUd;Lo7vtZX9Y22`}mxQ">s</field></block></value></block></statement><next><block type="controls_if" id="S[=7`B!Y)ok!c8LpOHwI"><value name="IF0"><shadow type="logic_boolean" id="unG0J}#5]HYT)Z=m!*@L"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="UYfQ=Q@[w~wPq#pCoIAF"><field name="VAR" id="``AXPHwR_a2|_x%l3TM/">mushroom</field></block></value><statement name="DO0"><block type="game_delete_sprite" id="}Xd]0Pa3zWP)bHWL@6}~"><value name="this"><block type="variables_get" id="M?XQuX6E`;Ps|37*`35~"><field name="VAR" id="``AXPHwR_a2|_x%l3TM/">mushroom</field></block></value></block></statement><next><block type="typescript_statement" id="SD3$JmNKtIQ|.^+zA=o)"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="snakeHead = null" numlines="1"></mutation><next><block type="variables_set" id="{iNV{~Fui0z]33/HjW_N"><field name="VAR" id="j//3tsAgDl+n%B^T0hGF">snakeTail</field><value name="VALUE"><shadow type="math_number" id="b)i$Job;d(GElLR_|LZM"><field name="NUM">0</field></shadow><block type="lists_create_with" id="t:V|2fj)ofNuvB/IcG)5"><mutation items="0" horizontalafter="3"></mutation></block></value><next><block type="typescript_statement" id="$JR_Hb10T2$3Y8WBO@-#"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="mushroom = null" numlines="1"></mutation></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="biTBr1*6lUmxL*uh@#1`" x="4110" y="20"><mutation name="growTail" functionid="sP.Bepdzjft}:2f4lcL%"></mutation><field name="function_name">growTail</field><comment pinned="false" h="80" w="160">--- Grow tail ---</comment><statement name="STACK"><block type="controls_if" id="FL~]=s`9fjU^pA!(Bv.u"><mutation else="1"></mutation><value name="IF0"><shadow type="logic_boolean" id="ca3rBgdh*u3[VEm5[.H%"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="GELpjNK/_%(og13`ld+S"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id=",:TIuS[M`vs{3La%fI*I"><field name="NUM">0</field></shadow><block type="lists_length" id="xK5,Z.q]%-@6:nk7Y/{T"><value name="VALUE"><block type="variables_get" id="sLqZrtNi`pilLUfGi8-m"><field name="VAR" id="j//3tsAgDl+n%B^T0hGF">snakeTail</field></block></value></block></value><value name="B"><shadow type="math_number" id="k$1t8{v,7(xpa}Nw7TJQ"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="variables_set" id="w^iCI8c2Q;cnMt#9e;[B"><field name="VAR" id="e4LF=?Qt2YNc[@G#3CHC">tx</field><value name="VALUE"><shadow type="math_number" id="ofv0FMX0{N;rh)Xh^c+-"><field name="NUM">0</field></shadow><block type="game_sprite_property" id="Wlh:f2bn3?p5pRHshD3G"><field name="property">LedSpriteProperty.X</field><value name="sprite"><block type="variables_get" id="[c6]=Q.}7upX=m.3):Of"><field name="VAR" id="Zd4[ni]p+J3h%[aNB?UA">snakeHead</field></block></value></block></value><next><block type="variables_set" id="Z=[u:;OvuWLG.qSp?zM?"><field name="VAR" id="KJLu-gSvgIhg=Wl,2KKp">ty</field><value name="VALUE"><shadow type="math_number" id="4/}4v3wKZ={#J([OdK!D"><field name="NUM">0</field></shadow><block type="game_sprite_property" id="wSI$viwi^82kxdMB-S:+"><field name="property">LedSpriteProperty.Y</field><value name="sprite"><block type="variables_get" id="!!}*0G]PYV)H7~;@-#W8"><field name="VAR" id="Zd4[ni]p+J3h%[aNB?UA">snakeHead</field></block></value></block></value></block></next></block></statement><statement name="ELSE"><block type="variables_set" id="NC=u,vDF39I2heaV2AVm"><field name="VAR" id="eFd0eu@_]dhTh;*+J?w}">last</field><value name="VALUE"><shadow type="math_number" id="4v;1Y:-i7xrQLX13s(ve"><field name="NUM">0</field></shadow><block type="lists_index_get" id="=/c!){#sD}GX}=NzzS5z"><value name="LIST"><block type="variables_get" id="$0[YDX+oN*zH[mg#o4_H"><field name="VAR" id="j//3tsAgDl+n%B^T0hGF">snakeTail</field></block></value><value name="INDEX"><shadow type="math_number" id="aa6e6b`l~6Ww+?m:3v/="><field name="NUM">0</field></shadow><block type="math_arithmetic" id="{t|PzE,,?[5#]oSNj:Ok"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id=".n!Sic`SC_02@G5qRuh^"><field name="NUM">0</field></shadow><block type="lists_length" id="HDx067+vn;=yut!y]A5I"><value name="VALUE"><block type="variables_get" id="fJ[BY3B)]+}Y+[1!$v8%"><field name="VAR" id="j//3tsAgDl+n%B^T0hGF">snakeTail</field></block></value></block></value><value name="B"><shadow type="math_number" id="|QL)#.Rt}X{me8?QAA-@"><field name="NUM">1</field></shadow></value></block></value></block></value><next><block type="variables_set" id="k1nrajaMSF()Ld!f5F)_"><field name="VAR" id="e4LF=?Qt2YNc[@G#3CHC">tx</field><value name="VALUE"><shadow type="math_number" id="Mu*bjS$es8|u1/.bGH4b"><field name="NUM">0</field></shadow><block type="game_sprite_property" id="kpLxevO2l?@_]Ka915pj"><field name="property">LedSpriteProperty.X</field><value name="sprite"><block type="variables_get" id="0MaKTz(6*Tybp_+0.h#u"><field name="VAR" id="eFd0eu@_]dhTh;*+J?w}">last</field></block></value></block></value><next><block type="variables_set" id="Ga0IEd|=p@zjKd1=7bpy"><field name="VAR" id="KJLu-gSvgIhg=Wl,2KKp">ty</field><value name="VALUE"><shadow type="math_number" id="MJ$(PCF042VPV~IbGm+$"><field name="NUM">0</field></shadow><block type="game_sprite_property" id="X(fBvuIHYE%78^U%mvSb"><field name="property">LedSpriteProperty.Y</field><value name="sprite"><block type="variables_get" id="n;_4i.c%%,H![~NShg`9"><field name="VAR" id="eFd0eu@_]dhTh;*+J?w}">last</field></block></value></block></value></block></next></block></next></block></statement><next><block type="array_push" id="gpF*hk{zLi*(u4e*M[0="><value name="list"><block type="variables_get" id="64Zji!;l*nbY?uZ:9;}G"><field name="VAR" id="j//3tsAgDl+n%B^T0hGF">snakeTail</field></block></value><value name="value"><block type="game_create_sprite" id="gMYw:if3%)a/zmO.vz?A"><value name="x"><block type="variables_get" id="]X~!D!I6C$q2*BUH.!!G"><field name="VAR" id="e4LF=?Qt2YNc[@G#3CHC">tx</field></block></value><value name="y"><block type="variables_get" id="]|IpaG.?BF5iJhAurD*4"><field name="VAR" id="KJLu-gSvgIhg=Wl,2KKp">ty</field></block></value></block></value></block></next></block></statement></block><block type="function_definition" id="4D#i$!A*Ed^S#0H?V[5w" x="20" y="754"><mutation name="computeNext" functionid="+$z^(_:Fvcsfw)]RUE`A"></mutation><field name="function_name">computeNext</field><comment pinned="false" h="80" w="160">--- Compute next head position ---</comment><statement name="STACK"><block type="variables_set" id="e!9[qR2xQ@D50!?x%*ft"><field name="VAR" id="jb5p?wQmNtb8V78qbXEF">nx</field><value name="VALUE"><shadow type="math_number" id="^[*Zcz9ZU$%gg40Bsmxu"><field name="NUM">0</field></shadow><block type="game_sprite_property" id="Ixoi2hvt6K$CQ,UM.lt$"><field name="property">LedSpriteProperty.X</field><value name="sprite"><block type="variables_get" id="P)p5zl~;[3ZeK0Y?1r:h"><field name="VAR" id="Zd4[ni]p+J3h%[aNB?UA">snakeHead</field></block></value></block></value><next><block type="variables_set" id="Q}z:{m@x=fS9u0GDG`?c"><field name="VAR" id="rq:xp[3`V2R$`q4udXue">ny</field><value name="VALUE"><shadow type="math_number" id="jiR_`6}8^3NuSPyWokFc"><field name="NUM">0</field></shadow><block type="game_sprite_property" id="p*pW72}BdONM=a,~yk0C"><field name="property">LedSpriteProperty.Y</field><value name="sprite"><block type="variables_get" id="||d6iWFjP:YL)$Y71E,@"><field name="VAR" id="Zd4[ni]p+J3h%[aNB?UA">snakeHead</field></block></value></block></value><next><block type="controls_if" id="D0+QSvoa@w=^^ODc2g8s"><value name="IF0"><shadow type="logic_boolean" id="lKdp:3oYlw953z2RRGsd"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="@A4S:N?L=P$xR|`;F:m$"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="Hjz@:^ckE1IGXT}oGBuL"><field name="NUM">0</field></shadow><block type="variables_get" id="c*h?:CJsH2rQbiAhe?%R"><field name="VAR" id="%b6jCV=XJ)DZ8qiqE!#f">directionDeg</field></block></value><value name="B"><shadow type="math_number" id="m?kps@.ZTQ)cfP6=/%Gz"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="variables_change" id="Zr!t3]upl2]TpCn)2lAL"><field name="VAR" id="rq:xp[3`V2R$`q4udXue">ny</field><value name="VALUE"><shadow type="math_number" id="nfJ_coiRpogV^P_HJ+VC"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="9nQe-FPv|DrqfoGqnqF8"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="=JSuM}xCs1G^05kQ{bI?"><field name="NUM">0</field></shadow></value><value name="B"><shadow type="math_number" id="B-(u8*:4LDSsSNh[k.J/"><field name="NUM">1</field></shadow></value></block></value></block></statement><next><block type="controls_if" id="VQE)iKEd4#6!V3`I%iHE"><value name="IF0"><shadow type="logic_boolean" id="[S)5,FyVi1vUTUp62?Kr"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="tHBA*70BN!UAuV|g{3`}"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="b1e*sc$PATFF!mM(-5Vr"><field name="NUM">0</field></shadow><block type="variables_get" id="rBR?Fy3zu{cZsv=yN)a["><field name="VAR" id="%b6jCV=XJ)DZ8qiqE!#f">directionDeg</field></block></value><value name="B"><shadow type="math_number" id="O})nUEu}k%!+oL]4IFz~"><field name="NUM">90</field></shadow></value></block></value><statement name="DO0"><block type="variables_change" id="(gpduO-z|H(8(wi4Xxa!"><field name="VAR" id="jb5p?wQmNtb8V78qbXEF">nx</field><value name="VALUE"><shadow type="math_number" id="i[*3+UY$0PUpbjjgf.)$"><field name="NUM">1</field></shadow></value></block></statement><next><block type="controls_if" id=";}/tS.n5__FV|a~%?{zJ"><value name="IF0"><shadow type="logic_boolean" id="S5,hgO3PI_Pt|c:w-JoN"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="Ka0o7*EjkX4Y+1H#!FJd"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="B|WtlJ~XIVj!G#qDgrI}"><field name="NUM">0</field></shadow><block type="variables_get" id="Hg@a!NUA!sFSTwz_l?.Y"><field name="VAR" id="%b6jCV=XJ)DZ8qiqE!#f">directionDeg</field></block></value><value name="B"><shadow type="math_number" id="`wBaK51+6=ZE`p2J/S5r"><field name="NUM">180</field></shadow></value></block></value><statement name="DO0"><block type="variables_change" id="U?IIA`Bz!Zj9Ma56{cPa"><field name="VAR" id="rq:xp[3`V2R$`q4udXue">ny</field><value name="VALUE"><shadow type="math_number" id="f#qpFZX/9@V:=+LQmR]u"><field name="NUM">1</field></shadow></value></block></statement><next><block type="controls_if" id="??Bef*(|PB`$:vT`r-sQ"><value name="IF0"><shadow type="logic_boolean" id="zv(ftwH^*CZ]#MkMBp$N"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="?^+Ipb_PM}QUS]15sOS."><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="$4gA93RDsf;BRroo~(AI"><field name="NUM">0</field></shadow><block type="variables_get" id="Fnl=*6UD4xyl;+]cUo}M"><field name="VAR" id="%b6jCV=XJ)DZ8qiqE!#f">directionDeg</field></block></value><value name="B"><shadow type="math_number" id="HU%QR{opMvJ*SvYapNR1"><field name="NUM">270</field></shadow></value></block></value><statement name="DO0"><block type="variables_change" id="IV2jUJj-XgN~#HcBRd3s"><field name="VAR" id="jb5p?wQmNtb8V78qbXEF">nx</field><value name="VALUE"><shadow type="math_number" id="vPdT4L_1enK:91BbAl]F"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="fzUdOLo,9@]A07IE]m+I"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="(XtZz)K=8p=F-]W-k9+0"><field name="NUM">0</field></shadow></value><value name="B"><shadow type="math_number" id="%7;(RLs[plf^@V;OCt+y"><field name="NUM">1</field></shadow></value></block></value></block></statement><next><block type="controls_if" id=";6i?GA%z`N@n4Mr;towC"><comment pinned="false" h="80" w="160">Wrap around edges</comment><value name="IF0"><shadow type="logic_boolean" id=";ycGKq~/s46*G;ydn8VR"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="9|h5+OY0gEpNDB/CM8Kd"><field name="OP">LT</field><value name="A"><shadow type="math_number" id="g3{c+mTX{t#?.cQ`wMkz"><field name="NUM">0</field></shadow><block type="variables_get" id="hEoT92Hz0^lw=Hz9k2.Z"><field name="VAR" id="jb5p?wQmNtb8V78qbXEF">nx</field></block></value><value name="B"><shadow type="math_number" id="L3/~)%:_+@6Xze}(0D++"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="variables_set" id="R+9;dL|fj}X6Uy+Hw.m9"><field name="VAR" id="jb5p?wQmNtb8V78qbXEF">nx</field><value name="VALUE"><shadow type="math_number" id="b%h6XkHX.VE?~~V5$41K"><field name="NUM">4</field></shadow></value></block></statement><next><block type="controls_if" id="N(IB|0PaZt0W=_oH#zA#"><value name="IF0"><shadow type="logic_boolean" id=":!AvN?_+C?-wj;Lzosy2"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="wj+*?YNxA^3N,PQ2#aW+"><field name="OP">GT</field><value name="A"><shadow type="math_number" id="T{/Tq(=n!n`pB)?yJ%xA"><field name="NUM">0</field></shadow><block type="variables_get" id="VGN3k+.PT{.#mqMCY`e3"><field name="VAR" id="jb5p?wQmNtb8V78qbXEF">nx</field></block></value><value name="B"><shadow type="math_number" id="-pv8`$KvV$WNrd5Ijdh$"><field name="NUM">4</field></shadow></value></block></value><statement name="DO0"><block type="variables_set" id="N26KL9(k?q?4m6pENZTG"><field name="VAR" id="jb5p?wQmNtb8V78qbXEF">nx</field><value name="VALUE"><shadow type="math_number" id="]bl_PcmiwCu)`N.O,{k0"><field name="NUM">0</field></shadow></value></block></statement><next><block type="controls_if" id="dEXcH42+=G7e@O5g@[6k"><value name="IF0"><shadow type="logic_boolean" id=")=9yI`f0o*YWd8@X[uXP"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="^ly^]Q2#XwVhImweKLRH"><field name="OP">LT</field><value name="A"><shadow type="math_number" id="!;OU|A]QgAi/@Y`}p;L@"><field name="NUM">0</field></shadow><block type="variables_get" id="rdp3?H`.~f`:{~56LrQE"><field name="VAR" id="rq:xp[3`V2R$`q4udXue">ny</field></block></value><value name="B"><shadow type="math_number" id="ADyXTj;Eful0NMQTBw~y"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="variables_set" id="=Ee0qtLKbkZF69`Y^0IX"><field name="VAR" id="rq:xp[3`V2R$`q4udXue">ny</field><value name="VALUE"><shadow type="math_number" id="8qn{I=cc?ti3|L=u}xfm"><field name="NUM">4</field></shadow></value></block></statement><next><block type="controls_if" id="]IqOfm0W)*qgPk?/~?;)"><value name="IF0"><shadow type="logic_boolean" id="b+q?iWn6@Undge@F|jr2"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="6e,U-se#yM;rmV?;S6`Y"><field name="OP">GT</field><value name="A"><shadow type="math_number" id="`PQG,i0ZK!+p[3fyNj%1"><field name="NUM">0</field></shadow><block type="variables_get" id="ms2*MvxccNs,+Qrd9M!="><field name="VAR" id="rq:xp[3`V2R$`q4udXue">ny</field></block></value><value name="B"><shadow type="math_number" id="GK~r}a2~IwSc3u,,]7Gy"><field name="NUM">4</field></shadow></value></block></value><statement name="DO0"><block type="variables_set" id="N^n:hcghXCWKcj8p4gT;"><field name="VAR" id="rq:xp[3`V2R$`q4udXue">ny</field><value name="VALUE"><shadow type="math_number" id=":aE:W@9[-{6dbNnJd:_7"><field name="NUM">0</field></shadow></value></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="Ri?,g6ELs=8`Il9adgiI" x="553" y="754"><mutation name="gameOver" functionid="[XRTJO,e_S64.^#6A,1w"></mutation><field name="function_name">gameOver</field><comment pinned="false" h="80" w="160">--- Game over ---</comment><statement name="STACK"><block type="variables_set" id="fsA}|NRXGvnz7.Z1hoG#"><field name="VAR" id="VP*c^gS@+0b6)PSbKXm,">gameRunning</field><value name="VALUE"><shadow type="math_number" id="QWRi,urV*`)|c+bUB?`O"><field name="NUM">0</field></shadow><block type="logic_boolean" id="~fB}jerccB#U9ma3Rw!g"><field name="BOOL">FALSE</field></block></value><next><block type="device_start_melody" id=",-oO[cyK2PwdCn(}IPHS"><field name="options">MelodyOptions.Once</field><value name="melody"><shadow type="device_builtin_melody" id=".I36:.`a))luk*FFy/dc"><field name="melody">Melodies.PowerDown</field></shadow></value><next><block type="device_pause" id=";.q.pmmY#dwFNljlrV,R"><value name="pause"><shadow type="timePicker" id="q7qkPfY/7F+;LrA,9soU"><field name="ms">300</field></shadow></value><next><block type="device_print_message" id="NP94PdR-/w$@4|K(|qoi"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="text"><shadow type="text" id=").S)LAqHw$%(iw@9eHK["><field name="TEXT">GAME OVER</field></shadow></value><next><block type="device_pause" id="+8+5W}8nA!zN7IE,]eXv"><value name="pause"><shadow type="timePicker" id="s3inKW}i.G`G+qz-T6tD"><field name="ms">400</field></shadow></value><next><block type="device_print_message" id="^IoE+@Ad~k~lxJ:W+L+E"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="text"><shadow type="text" id="DRA:4/T}Ec9.0nap4VmK"><field name="TEXT">SCORE:</field></shadow></value><next><block type="device_show_number" id=";i:.`ZCt|T0eu)N@tJ#:"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="number"><block type="variables_get" id="C^exBc~i`})NPhVn,%K^"><field name="VAR" id="]Z[YKR1DC?+?eyQC4K57">gameScore</field></block></value><next><block type="typescript_statement" id="ZaP22kD5)=F7L,+sai7u"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="control.inBackground(function () {" line1="        while (!input.buttonIsPressed(Button.AB)) {" line2="            basic.pause(100)" line3="        }" line4="        startGame()" line5="    })" numlines="6"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="H9;[hgunE6!zlZ1lG,,s" x="1103" y="754"><mutation name="startGame" functionid=")lhx_L)lVL9UnmZg/JHY"></mutation><field name="function_name">startGame</field><comment pinned="false" h="80" w="160">--- Start game ---</comment><statement name="STACK"><block type="function_call" id="aC_M8K(GDWcELPHpZ#;r"><mutation name="clearAll" functionid="#[A/Gt$QP8LYbT/Q2p@Y"></mutation><next><block type="variables_set" id="SJc[KfUJ,.(T//Ggj[QR"><field name="VAR" id="R=y5+{x*@~Ok=1a:U5G;">snakeSpeed</field><value name="VALUE"><shadow type="math_number" id="J~PhilAfN8FS-%=h@GVr"><field name="NUM">0</field></shadow><block type="variables_get" id=",7WQvbZfOY5fnXt1}FKJ"><field name="VAR" id="E,#ANbl_O$i1|~@sHdd5">INITIAL_SPEED</field></block></value><next><block type="variables_set" id="wWf3!`b:wN:Pm@yb#M=C"><field name="VAR" id="]Z[YKR1DC?+?eyQC4K57">gameScore</field><value name="VALUE"><shadow type="math_number" id="5Pbuu_w?P@@n2yhbl1XD"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="nzL:6@`G2N(c#H%z+%-;"><field name="VAR" id="?AOcKNek%IKSe%_-q]tE">snakeCrash</field><value name="VALUE"><shadow type="math_number" id="1qeiEpCOHvxlG3!Hj27,"><field name="NUM">0</field></shadow><block type="logic_boolean" id="c.ciEnFg$H[K@$^#gd*z"><field name="BOOL">FALSE</field></block></value><next><block type="variables_set" id="K/zDVNm!w$0.LY!C=:,4"><field name="VAR" id="VP*c^gS@+0b6)PSbKXm,">gameRunning</field><value name="VALUE"><shadow type="math_number" id="TwQD8_~Bp_/QbMPrqBtA"><field name="NUM">0</field></shadow><block type="logic_boolean" id="KXL2jBhd#kt0W?OWKp|b"><field name="BOOL">TRUE</field></block></value><next><block type="variables_set" id="8}Kqh}6jgQM|v`JyQ2bc"><field name="VAR" id="%b6jCV=XJ)DZ8qiqE!#f">directionDeg</field><value name="VALUE"><shadow type="math_number" id="D3ldl~=Vg;5O3ZE:fI]R"><field name="NUM">90</field></shadow></value><next><block type="variables_set" id="[WByyD3oTYaF#]r#LDm,"><field name="VAR" id="Zd4[ni]p+J3h%[aNB?UA">snakeHead</field><value name="VALUE"><shadow type="math_number" id="OG28Xw}BVA.r`!O5z4w!"><field name="NUM">0</field></shadow><block type="game_create_sprite" id="(f{;G@0sEARfKa(*TPTA"><value name="x"><shadow type="math_number" id="k}L?ElurL%;[*RS6[qnn"><field name="NUM">2</field></shadow></value><value name="y"><shadow type="math_number" id="x$St5Mn~=qHx?$u{P`bV"><field name="NUM">2</field></shadow></value></block></value><next><block type="variables_set" id="h[?V;:cZw!USTRNh{%gJ"><field name="VAR" id="j//3tsAgDl+n%B^T0hGF">snakeTail</field><value name="VALUE"><shadow type="math_number" id="IiQ%4Byal[.PHT]taoi#"><field name="NUM">0</field></shadow><block type="lists_create_with" id="-yqz(pt@E67lD}Jysgan"><mutation items="0" horizontalafter="3"></mutation></block></value><next><block type="typescript_statement" id="/jlucSu|8F|1.S;wr+u+"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="for (let j = 3; j &gt; 0; j--) {" line1="        basic.showNumber(j)" line2="        music.playTone(523, music.beat(BeatFraction.Quarter))" line3="        basic.pause(400)" line4="    }" numlines="5"></mutation><next><block type="device_play_note" id="xME$*?;=:PuMGEz`fwVd"><value name="note"><shadow type="device_note" id="8JoRohi8mIqu204+5V2="><field name="name">784</field></shadow></value><value name="duration"><shadow type="device_beat" id="AFZ7V{t$M)BIlwb`-4e~"><field name="fraction">BeatFraction.Quarter</field></shadow></value><next><block type="device_print_message" id="[T*9rlkQ$A2ugPPhDOqm"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="text"><shadow type="text" id="QeE6(#TDLM/=,]QF$,yK"><field name="TEXT">GO!</field></shadow></value><next><block type="function_call" id="55%tJZ(=Pl3|A9WSB`N."><mutation name="setMushroom" functionid="z8p1q@Z%0T{o{YP8S?3u"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="W2PFy3+He@}p%C2qYMlu" x="1782" y="754"><mutation name="setMushroom" functionid="z8p1q@Z%0T{o{YP8S?3u"></mutation><field name="function_name">setMushroom</field><comment pinned="false" h="80" w="160">--- Mushroom spawn (random, never on snake) ---</comment><statement name="STACK"><block type="typescript_statement" id="oTT/g:6)wkdBCW;Q69%Y"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="do {" line1="        x = randint(0, 4)" line2="        y = randint(0, 4)" line3="        valid2 = true" line4="" line5="        if (snakeHead.get(LedSpriteProperty.X) == x &amp;&amp;" line6="            snakeHead.get(LedSpriteProperty.Y) == y) valid2 = false" line7="" line8="        for (let part of snakeTail) {" line9="            if (part.get(LedSpriteProperty.X) == x &amp;&amp;" line10="                part.get(LedSpriteProperty.Y) == y) valid2 = false" line11="        }" line12="    } while (!valid2)" numlines="13"></mutation><next><block type="controls_if" id="5Pg#p~Oj1Df9IaQUh#~_"><value name="IF0"><shadow type="logic_boolean" id="F7+`[kCAS=k@D1fXr~S%"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="YIQ3](]XCR1iP2*vgD|g"><field name="VAR" id="``AXPHwR_a2|_x%l3TM/">mushroom</field></block></value><statement name="DO0"><block type="game_delete_sprite" id="9[hP.T9h45VJ`3+v6_vM"><value name="this"><block type="variables_get" id="UWHlXKQnPdku7d!?OJzv"><field name="VAR" id="``AXPHwR_a2|_x%l3TM/">mushroom</field></block></value></block></statement><next><block type="variables_set" id="#+;%Rnn]`CP0uBB0;E3;"><field name="VAR" id="``AXPHwR_a2|_x%l3TM/">mushroom</field><value name="VALUE"><shadow type="math_number" id="oDhpFrVm#r#:S%BU5,aG"><field name="NUM">0</field></shadow><block type="game_create_sprite" id="3hW|GrEg#JmzZZj+_AHH"><value name="x"><block type="variables_get" id="3IO5j`K@[@@Qde}#x1Hb"><field name="VAR" id="cD-8yI/E:{{*Nx{?ez)y">x</field></block></value><value name="y"><block type="variables_get" id="Zk.|(=u4Kvzr,?!QsWy3"><field name="VAR" id="B;LSZX0,o_]_/O;=n!FI">y</field></block></value></block></value><next><block type="game_sprite_set_property" id="{9mR;`.5kP]}]@(Pxma8"><field name="property">LedSpriteProperty.Blink</field><value name="sprite"><block type="variables_get" id="Q3ERz}[m*macnSxxOz9z"><field name="VAR" id="``AXPHwR_a2|_x%l3TM/">mushroom</field></block></value><value name="value"><shadow type="math_number" id="}Nd#.qT6{x;i0w;hkb|c"><field name="NUM">150</field></shadow></value></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="nCCJH#m~{n,2R[(#^V6d" x="3056" y="754"><mutation name="moveSnake" functionid="D7^Cbm}Cb/MHoOvHU688"></mutation><field name="function_name">moveSnake</field><comment pinned="false" h="80" w="160">--- Move snake ---</comment><statement name="STACK"><block type="controls_if" id="mQS*=9L=y}Jg+EzTo|A#"><value name="IF0"><shadow type="logic_boolean" id="sdu06KQ~30TZh^29?12E"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="{[iS8H)()_pHcVtY^#i7"><value name="BOOL"><shadow type="logic_boolean" id="9_FX01ud9L|SN+g5bh.H"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="N4wLA|%TKjs71::+w2:Z"><field name="VAR" id="Zd4[ni]p+J3h%[aNB?UA">snakeHead</field></block></value></block></value><statement name="DO0"><block type="function_return" id="-k;MBg?+6C,D@nJp;K!|"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="true"></mutation></block></statement><next><block type="variables_set" id="oHpw;*7%(s95t6zms_gK"><field name="VAR" id="!JeGWgme]rHv$%~LM]T~">px</field><value name="VALUE"><shadow type="math_number" id="icoD%]N08Gm,()QL8OR{"><field name="NUM">0</field></shadow><block type="game_sprite_property" id="s2mCM`3.bLRH_nYpM/z7"><field name="property">LedSpriteProperty.X</field><value name="sprite"><block type="variables_get" id="EfOD.Dria1Nl[1HYn{Wu"><field name="VAR" id="Zd4[ni]p+J3h%[aNB?UA">snakeHead</field></block></value></block></value><next><block type="variables_set" id="+22m$+h0vKKA4C7.9=H;"><field name="VAR" id="h*NE!1u+}d4rq53|x-w$">py</field><value name="VALUE"><shadow type="math_number" id="9xrb:GEZ?(p,Dqq08IJ!"><field name="NUM">0</field></shadow><block type="game_sprite_property" id="tcY[K~OWd@C*y3Wkfy^{"><field name="property">LedSpriteProperty.Y</field><value name="sprite"><block type="variables_get" id="OG8C=O4TU?~pADh.fMjl"><field name="VAR" id="Zd4[ni]p+J3h%[aNB?UA">snakeHead</field></block></value></block></value><next><block type="function_call" id="Gczxrt-VATNosd!Cn9=b"><mutation name="computeNext" functionid="+$z^(_:Fvcsfw)]RUE`A"></mutation><next><block type="controls_if" id="$!_5;SveY=2Q(F$_ki56"><comment pinned="false" h="80" w="160">Move tail</comment><value name="IF0"><shadow type="logic_boolean" id="~byX[y?~TZ-O[.:biM7?"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="#OS+K6Z%17E{|,,_1pu,"><field name="OP">GT</field><value name="A"><shadow type="math_number" id="1i,-sO+JSmo4V[TH=Sl6"><field name="NUM">0</field></shadow><block type="lists_length" id="?%[mz{`4/NRA%Ew38ZMV"><value name="VALUE"><block type="variables_get" id="6:i]fi8GffM;.hyqV/ct"><field name="VAR" id="j//3tsAgDl+n%B^T0hGF">snakeTail</field></block></value></block></value><value name="B"><shadow type="math_number" id="gf?t/kvCq$Y=D@`%I6?P"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="typescript_statement" id="IqXr!14_lG)tNL-b%#KN"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="for (let i = snakeTail.length - 1; i &gt; 0; i--) {" line1="            snakeTail[i].set(LedSpriteProperty.X, snakeTail[i - 1].get(LedSpriteProperty.X))" line2="            snakeTail[i].set(LedSpriteProperty.Y, snakeTail[i - 1].get(LedSpriteProperty.Y))" line3="        }" numlines="4"></mutation><next><block type="game_sprite_set_property" id="K`(1GRz_@ihQRpn5QS47"><field name="property">LedSpriteProperty.X</field><value name="sprite"><block type="lists_index_get" id="lZ*M@,r8jU)|k4l3QNAN"><value name="LIST"><block type="variables_get" id="dBM;Sfej@yCah!`5CgP."><field name="VAR" id="j//3tsAgDl+n%B^T0hGF">snakeTail</field></block></value><value name="INDEX"><shadow type="math_number" id="t};|$-X+:GYiY7$dD9Z}"><field name="NUM">0</field></shadow></value></block></value><value name="value"><block type="variables_get" id="M-JsDI,6zjkj5%O^[2[j"><field name="VAR" id="!JeGWgme]rHv$%~LM]T~">px</field></block></value><next><block type="game_sprite_set_property" id=",@P;}:-UQZH!ed,H@7;o"><field name="property">LedSpriteProperty.Y</field><value name="sprite"><block type="lists_index_get" id="d(#/yze;Yk2_gmOSZ}8i"><value name="LIST"><block type="variables_get" id="}7k#=)^QHV3/9}KG!:!5"><field name="VAR" id="j//3tsAgDl+n%B^T0hGF">snakeTail</field></block></value><value name="INDEX"><shadow type="math_number" id="%f!J!czqE{oA8qqw^-GB"><field name="NUM">0</field></shadow></value></block></value><value name="value"><block type="variables_get" id="OK_sp$mPJP}Cbl:6wAal"><field name="VAR" id="h*NE!1u+}d4rq53|x-w$">py</field></block></value></block></next></block></next></block></statement><next><block type="game_sprite_set_property" id="M}6QwFgqe,=Z_E04hA{R"><field name="property">LedSpriteProperty.X</field><comment pinned="false" h="80" w="160">Move head</comment><value name="sprite"><block type="variables_get" id="o0Pmb6Rk_4_]7]]N-WfP"><field name="VAR" id="Zd4[ni]p+J3h%[aNB?UA">snakeHead</field></block></value><value name="value"><block type="variables_get" id="^^geHIn8G$^ox*w!C6aU"><field name="VAR" id="jb5p?wQmNtb8V78qbXEF">nx</field></block></value><next><block type="game_sprite_set_property" id="-Cw/A2YZKAG)p$`/^,/$"><field name="property">LedSpriteProperty.Y</field><value name="sprite"><block type="variables_get" id="M_fm-(IO([I{QET0Vi]h"><field name="VAR" id="Zd4[ni]p+J3h%[aNB?UA">snakeHead</field></block></value><value name="value"><block type="variables_get" id="k`_!`G%sB8`;yx_y!Ndx"><field name="VAR" id="rq:xp[3`V2R$`q4udXue">ny</field></block></value><next><block type="pxt_controls_for_of" id="|n5ca:T2AS!HQwAm_I0?"><comment pinned="false" h="80" w="160">Collision with tail</comment><value name="VAR"><block type="variables_get_reporter" id="BGz@?=(;~JEgOQtP1=bS" deletable="false"><field name="VAR" id="r!qw+rRKP)|;JI$aT:Z4">seg</field></block></value><value name="LIST"><block type="variables_get" id="1(Jhd`(LF:_oKSoKU%XA"><field name="VAR" id="j//3tsAgDl+n%B^T0hGF">snakeTail</field></block></value><statement name="DO"><block type="controls_if" id="Fm:J~=IzL_!!Ek2zt=9_"><value name="IF0"><shadow type="logic_boolean" id="t45lAU`R:|aE/sl;p/*Z"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="5fha].oVqs,E,,*FI0[P"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean" id="EI:.jB(V#7;Y`zol`8,~"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="eKG_?_N#1-y*@OAKL@=o"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="3eLLF%j)/u=mN8.Jd_Q_"><field name="NUM">0</field></shadow><block type="game_sprite_property" id="VSpLLs`[Y*Y^KeU0Q7U5"><field name="property">LedSpriteProperty.X</field><value name="sprite"><block type="variables_get" id="B[A{DoT~q;W2dogZb1lm"><field name="VAR" id="Zd4[ni]p+J3h%[aNB?UA">snakeHead</field></block></value></block></value><value name="B"><shadow type="math_number" id="jI6BZ/47T+0tfIh6`qgC"><field name="NUM">0</field></shadow><block type="game_sprite_property" id="V}_hU3bpj{.9i;ZMKI0`"><field name="property">LedSpriteProperty.X</field><value name="sprite"><block type="variables_get" id="I%K_co}]yRQL$yrMBFdV"><field name="VAR" id="r!qw+rRKP)|;JI$aT:Z4">seg</field></block></value></block></value></block></value><value name="B"><shadow type="logic_boolean" id="-q/?aN)r0SP~I)%j1PvU"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="0NYn}8H0k#}A;3b^mmLf"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="l;+A65;TdM82(@m4YUO("><field name="NUM">0</field></shadow><block type="game_sprite_property" id="*+U!a6Wskp3`ih6+Mx^~"><field name="property">LedSpriteProperty.Y</field><value name="sprite"><block type="variables_get" id="|gt_=yL$,.jnJNZ1oOoj"><field name="VAR" id="Zd4[ni]p+J3h%[aNB?UA">snakeHead</field></block></value></block></value><value name="B"><shadow type="math_number" id="+vGqwmShfMZo+5Szw;Ph"><field name="NUM">0</field></shadow><block type="game_sprite_property" id="*a:!3P!,VPBGkNYhFUxt"><field name="property">LedSpriteProperty.Y</field><value name="sprite"><block type="variables_get" id="@8OG/q$2$MA|QKl[=?G2"><field name="VAR" id="r!qw+rRKP)|;JI$aT:Z4">seg</field></block></value></block></value></block></value></block></value><statement name="DO0"><block type="variables_set" id=";ntu.B]mw{)MJl[G,FnZ"><field name="VAR" id="?AOcKNek%IKSe%_-q]tE">snakeCrash</field><value name="VALUE"><shadow type="math_number" id="2b%ci?VTBREa-.g3+%TX"><field name="NUM">0</field></shadow><block type="logic_boolean" id="NTSa9564)ZSFt]cop!Yq"><field name="BOOL">TRUE</field></block></value></block></statement></block></statement><next><block type="controls_if" id="WKIdc=)/}D=^==WrC%;i"><comment pinned="false" h="80" w="160">Eat mushroom</comment><value name="IF0"><shadow type="logic_boolean" id="~}H.tGQjjF(Q{fTi7iq6"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="].k}/91)HGc]g##caZzW"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean" id="sMT*t2;x^(NU}~XYIj.L"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="yGP5!!ynB%kYC8ECgR9/"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean" id="JAq@thjp~0+#=fz|ilsE"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="uEFrFJmI,epmYPWjkYzB"><field name="VAR" id="``AXPHwR_a2|_x%l3TM/">mushroom</field></block></value><value name="B"><shadow type="logic_boolean" id="A_:0#,5P~P=.~Y]*`/rl"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="BuE#pidFd5J4M%o]b^3)"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="aLNV*#y+4TQ*50s:#G~V"><field name="NUM">0</field></shadow><block type="game_sprite_property" id="%/%$|UyG+w-Atu4$_Bug"><field name="property">LedSpriteProperty.X</field><value name="sprite"><block type="variables_get" id="rSS;.r@lIzN+D9MD(%n@"><field name="VAR" id="Zd4[ni]p+J3h%[aNB?UA">snakeHead</field></block></value></block></value><value name="B"><shadow type="math_number" id=")51P:d-0POO,60s2SB-x"><field name="NUM">0</field></shadow><block type="game_sprite_property" id=".vCuWpAPGNs^0[4;flN4"><field name="property">LedSpriteProperty.X</field><value name="sprite"><block type="variables_get" id="P|gp[ccJab%MCL)3=aIo"><field name="VAR" id="``AXPHwR_a2|_x%l3TM/">mushroom</field></block></value></block></value></block></value></block></value><value name="B"><shadow type="logic_boolean" id="!_H$CxKZJw;%k`Nqjar_"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="#y[:eTC/?Cz*)XC=jcJ%"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="M6aDaQt;bv?yGk]evHRC"><field name="NUM">0</field></shadow><block type="game_sprite_property" id="i.p7:m`yizafF}|xSb`="><field name="property">LedSpriteProperty.Y</field><value name="sprite"><block type="variables_get" id="B,c5G#NSg`0gQe`*xkrT"><field name="VAR" id="Zd4[ni]p+J3h%[aNB?UA">snakeHead</field></block></value></block></value><value name="B"><shadow type="math_number" id="JRvL8Ir`a=gk!Bix=FIh"><field name="NUM">0</field></shadow><block type="game_sprite_property" id="7g+gDBR:kn7Yt9CGH!Hf"><field name="property">LedSpriteProperty.Y</field><value name="sprite"><block type="variables_get" id="/ZrlRr9LiGjQyP$JXnX0"><field name="VAR" id="``AXPHwR_a2|_x%l3TM/">mushroom</field></block></value></block></value></block></value></block></value><statement name="DO0"><block type="game_delete_sprite" id="(HFq6oBqdUA6Ot5vs64r"><value name="this"><block type="variables_get" id="CP|DgvX[[%[@0eTR6jyv"><field name="VAR" id="``AXPHwR_a2|_x%l3TM/">mushroom</field></block></value><next><block type="typescript_statement" id="d7?pxOPsSJS5xFCRo6t^"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="mushroom = null" numlines="1"></mutation><next><block type="function_call" id="Yj4kl,0l)T{:2bMj#iE+"><mutation name="eatMushroom" functionid="RrgZ%htUQpJV:Uyga.VO"></mutation></block></next></block></next></block></statement><next><block type="controls_if" id="y8qtxPpxZB@E9r3%s[:z"><comment pinned="false" h="80" w="160">Game over</comment><value name="IF0"><shadow type="logic_boolean" id="_X}r)j0[{,Ft4T*mK:CA"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="End$z$K2q/;^_Jrd5xk6"><field name="VAR" id="?AOcKNek%IKSe%_-q]tE">snakeCrash</field></block></value><statement name="DO0"><block type="function_call" id=":DmlB*8r1f?B!jk*OSHt"><mutation name="gameOver" functionid="[XRTJO,e_S64.^#6A,1w"></mutation></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>